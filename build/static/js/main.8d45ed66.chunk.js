(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{298:function(e,t,a){e.exports=a(611)},357:function(e,t,a){},358:function(e,t,a){},359:function(e,t,a){},442:function(e,t,a){},446:function(e,t,a){},447:function(e,t,a){},448:function(e,t,a){},449:function(e,t,a){},450:function(e,t,a){},451:function(e,t,a){},452:function(e,t,a){},453:function(e,t,a){},454:function(e,t,a){},455:function(e,t,a){},456:function(e,t,a){},457:function(e,t,a){},458:function(e,t,a){},465:function(e,t,a){},466:function(e,t,a){},467:function(e,t,a){},468:function(e,t,a){},469:function(e,t,a){},470:function(e,t,a){},471:function(e,t,a){},472:function(e,t,a){},474:function(e,t,a){},475:function(e,t,a){},476:function(e,t,a){},497:function(e,t,a){},498:function(e,t,a){},499:function(e,t,a){},500:function(e,t,a){},501:function(e,t,a){},502:function(e,t,a){},503:function(e,t,a){},504:function(e,t,a){},505:function(e,t,a){},506:function(e,t,a){},507:function(e,t,a){},513:function(e,t,a){},514:function(e,t,a){},515:function(e,t,a){},516:function(e,t,a){},517:function(e,t,a){},518:function(e,t,a){},519:function(e,t,a){},520:function(e,t,a){},521:function(e,t,a){},522:function(e,t,a){},523:function(e,t,a){},524:function(e,t,a){},525:function(e,t,a){},526:function(e,t,a){},527:function(e,t,a){},528:function(e,t,a){},529:function(e,t,a){e.exports=a.p+"static/media/me.82bd8f05.png"},530:function(e,t,a){},531:function(e,t,a){e.exports=a.p+"static/media/3d-logo.118bd481.png"},532:function(e,t,a){},586:function(e,t,a){},587:function(e,t,a){},588:function(e,t,a){},589:function(e,t,a){},590:function(e,t,a){},591:function(e,t,a){},592:function(e,t,a){},593:function(e,t,a){},594:function(e,t,a){},595:function(e,t,a){},596:function(e,t,a){},597:function(e,t,a){},598:function(e,t,a){},599:function(e,t,a){},600:function(e,t,a){},601:function(e,t,a){},602:function(e,t,a){},603:function(e,t,a){},604:function(e,t,a){},605:function(e,t,a){},606:function(e,t,a){},607:function(e,t,a){e.exports=a.p+"static/media/logo.6347d24f.png"},608:function(e,t,a){},609:function(e,t,a){},610:function(e,t,a){},611:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"rehabMenuItems",function(){return Na});var r=a(0),s=a.n(r),o=a(28),c=a.n(o),l=a(49),i=a(130),u=a(258),d=a(191),m=a(260),p=a.n(m),h=a(32),f={user:{},isAuthenticated:!1},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_USER":return Object(h.a)({},e,{user:t.user,isAuthenticated:t.user.isAuthenticated});case"LOGOUT_USER":return{user:{},isAuthenticated:!1};default:return e}},b={selectedPrimaryItem:"Rehab",selectedSecondaryItem:"Dashboard"},E={selectedCase:{},mi3dCaseId:null,mi3dCase:{}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_BLUEDOG_CASE":return Object(h.a)({},e,{selectedCase:t.selectedCase});case"UPDATE_BLUEDOG_CASE":return Object(h.a)({},e,{selectedCase:t.updatedCase});case"UPDATE_MI3D_CASE_ID":return Object(h.a)({},e,{mi3dCaseId:t.caseId});case"UPDATE_MI3D_CASE":return Object(h.a)({},e,{mi3dCase:t.selectedCase});default:return e}},C={showErrorModal:!1},g=Object(l.c)({auth:v,menus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRIMARY_ITEM_SELECTED":return Object(h.a)({},e,{selectedPrimaryItem:t.item});case"SECONDARY_ITEM_SELECTED":return Object(h.a)({},e,{selectedSecondaryItem:t.item});default:return e}},case:y,shared:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;switch((arguments.length>1?arguments[1]:void 0).type){case"SHOW_ERROR_MODAL":return Object(h.a)({},e,{showErrorModal:!0});case"HIDE_ERROR_MODAL":return Object(h.a)({},e,{showErrorModal:!1});default:return e}},routing:i.routerReducer});function k(e,t){var a=[];var n=[u.a,Object(i.routerMiddleware)(e)],r={key:"root",storage:p.a,blacklist:["shared"]},s=Object(d.a)(r,g),o=Object(l.e)(s,t,l.d.apply(void 0,[l.a.apply(void 0,n)].concat(a)));return{store:o,persistor:Object(d.b)(o)}}var O=a(261),w=a(16),N=a(4),j=a(5),M=a(7),S=a(6),I=a(8),_=a(631),A=a(262),x=a.n(A),T=a(633),R=a(287),q=function(e){return{type:"PRIMARY_ITEM_SELECTED",item:e}},B=function(e){return{type:"SECONDARY_ITEM_SELECTED",item:e}},P=function(e){return{type:"SELECT_BLUEDOG_CASE",selectedCase:e}},Q=function(e){return{type:"UPDATE_BLUEDOG_CASE",updatedCase:e}},D=function(e){return{type:"UPDATE_MI3D_CASE",selectedCase:e}},L=a(621),F=function(e){return s.a.createElement(L.a,{className:e.className,placeholder:e.placeholder,onBlur:e.onBlur,value:e.value,onChange:e.onChange,name:e.name})},V=a(131),U=(a(357),function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(M.a)(this,Object(S.a)(t).call(this,e))).state={isOpen:null!==e.isOpenByDefault&&e.isOpenByDefault,disabled:null!==e.disabled&&e.disabled},a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.disabled;this.setState({disabled:t})}},{key:"render",value:function(){var e=this,t=this.state.isOpen,a=this.props.collapse?"card__title-container":"card__title-container card__not-collapsible";return s.a.createElement("div",{className:"card",style:this.state.disabled?{pointerEvents:"none",opacity:".7"}:{}},s.a.createElement("div",{className:a},s.a.createElement("h3",null,this.props.title),this.props.collapse&&s.a.createElement("span",{className:"card__collapse-btn",onClick:function(){return e.setState({isOpen:!t})}},t?"Close":"Open")),this.props.collapse?s.a.createElement(V.Collapse,{isOpened:t},s.a.createElement("div",{className:"card__content"},this.props.children)):s.a.createElement("div",{className:"card__content"},this.props.children))}}]),t}(r.Component)),Y=(a(358),r.Component,a(359),function(e){return s.a.createElement("div",{className:"statistic"},s.a.createElement("h1",null,e.title),s.a.createElement("h2",null,e.value))}),K=a(622),H=function(e){return s.a.createElement("div",null,s.a.createElement(K.a,{label:e.label,name:e.groupName,value:e.value,checked:e.checked,onChange:e.onChange}))},W=a(612),G=function(e){return s.a.createElement(W.a,{label:e.label,onChange:e.onChange,checked:e.checked})},z=a(629),J=function(e){return s.a.createElement(z.a,e)},X=a(623),Z=(a(442),function(e){return s.a.createElement(X.a,e)}),$=a(613),ee=(a(446),function(e){var t={backgroundColor:"danger"===e.type&&"#ea5a5a",color:"#fff",marginRight:"".concat(e.marginright,"px"),marginLeft:"".concat(e.marginLeft,"px")};return s.a.createElement($.a,Object.assign({style:t},e,{size:"small"}))}),te=(a(447),function(e){var t={display:"flex",marginBottom:"".concat(e.marginBottom,"px"),marginTop:"".concat(e.marginTop,"px"),justifyContent:e.justifyContent};return s.a.createElement("div",{style:t,className:"button-container"},e.children)}),ae=a(628),ne=function(e){return s.a.createElement(ae.a,{className:e.className,onSubmit:e.onSubmit},e.children)},re=a(624),se=function(e){return s.a.createElement(re.a,e,e.children)},oe=a(625),ce=function(e){return s.a.createElement(oe.a,e,e.children)},le=a(626),ie=function(e){return s.a.createElement(le.a,e,e.children)},ue=(a(448),function(e){var t=e.inline?"form-group form-group-inline":"form-group",a={flexBasis:"".concat(e.flexBasis,"%"),marginBottom:"".concat(e.marginBottom,"px")};return s.a.createElement("div",{style:a,className:t},e.children)}),de=(a(449),function(e){var t={display:"flex",marginBottom:"".concat(e.marginBottom,"px"),marginTop:"".concat(e.marginTop,"px")};return s.a.createElement("div",{style:t},e.children)}),me=a(31),pe=a(41),he=a.n(pe),fe=(a(450),function(e){return s.a.createElement("div",{className:"datatable__functionality"},s.a.createElement("div",{className:"datatable__functionality-left"},s.a.createElement("p",null,"Items per page:"),s.a.createElement("select",{className:"form-control",onChange:e.changeItemsPerPage},s.a.createElement("option",{value:"10"},"10"),s.a.createElement("option",{value:"20"},"20"),s.a.createElement("option",{value:"50"},"50"),s.a.createElement("option",{value:"100"},"100"))),s.a.createElement("div",{className:"datatable__functionality-right"},e.actionAllNeeded&&s.a.createElement(ee,{content:e.actionAllLabel,size:"tiny",primary:!0,marginright:"15",onClick:e.actionAllFunction}),s.a.createElement(Z,{value:e.searchValue,placeholder:"Search",onChange:e.search})))}),ve=(a(451),function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(M.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).sort=function(e){a.props.cols.find(function(t){return t.value===e}).sortable&&(a.props.sort(e),a.props.handleSortedColChange(e))},a.switchIcon=function(e){var t=a.props.sortableCols.find(function(t){return t.name==="".concat(e,"Sorted")});if(void 0!==t)return!0===t.sorted?"fa fa-sort-amount-asc":"fa fa-sort-amount-desc"},a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"datatable__header"},this.props.cols.map(function(t,a){return s.a.createElement("div",{key:a},s.a.createElement("p",{onClick:function(){return e.sort(t.value)}},t.title,t.sortable&&s.a.createElement("i",{className:e.switchIcon(t.value)})))}),this.props.actionAllNeeded&&s.a.createElement("div",{className:"datatable__header-select-all"},s.a.createElement("input",{type:"checkbox",onClick:this.props.checkAllRows})))}}]),t}(r.Component)),be=a(34),Ee=a.n(be),ye=(a(452),a(453),function(e){var t="object"===typeof e.row[e.col]?Ee()(e.row[e.col]).format("DD/MM/YYYY hh:mm A"):e.row[e.col];return s.a.createElement("div",{className:"tablecol",onClick:e.selectRow},s.a.createElement("p",null,t))}),Ce=function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(M.a)(this,Object(S.a)(t).call(this,e))).selectRow=function(){a.props.selectRow(a.props.row)},a.renderBackgroundColour=function(){if(void 0!==a.props.timeSensitiveValue){var e=a.props.row[a.props.timeSensitiveValue],t=Ee()(new Date).add(1,"days");if(e<=Ee()(new Date).add(4,"hours"))return"rgba(234, 90, 90, .2)";if(e<t)return"rgba(255, 204, 0, .2)"}},a.checkRow=function(){a.props.checkRow(a.props.id),a.setState({checked:!a.state.checked})},a.state={id:"",checked:!1},a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.allChecked&&this.setState({checked:!1})}},{key:"render",value:function(){var e=this,t={backgroundColor:this.renderBackgroundColour()};return s.a.createElement("div",{className:"tablerow",style:t},this.props.cols.map(function(t,a){return s.a.createElement(ye,{col:t.value,row:e.props.row,key:a,selectRow:e.selectRow})}),this.props.actionAllNeeded&&s.a.createElement("div",{className:"tablerow__select-all"},s.a.createElement("input",{type:"checkbox",onClick:this.checkRow,checked:1==this.props.allChecked?this.props.allChecked:this.state.checked,onChange:this.checkRow})))}}]),t}(s.a.Component),ge=(a(454),function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(M.a)(this,Object(S.a)(t).call(this,e))).updateMessage=function(){setTimeout(function(){return a.setState({message:"No results found..."})},1e4)},a.state={message:"Loading..."},a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this;return this.updateMessage(),s.a.createElement("div",{className:"datatable__body"},this.props.results.length>0?this.props.paginatedList.length>0&&this.props.paginatedList.map(function(t,a){return s.a.createElement(Ce,{key:a,cols:e.props.cols,row:t,id:t[e.props.idCol],selectRow:e.props.selectRow,timeSensitiveValue:e.props.timeSensitiveValue,checkRow:e.props.checkRow,checkAllRows:e.props.checkAllRows,allChecked:e.props.allChecked,actionAllNeeded:e.props.actionAllNeeded})}):s.a.createElement("div",{className:"datatable__no-results-found"},s.a.createElement("p",null,this.state.message)))}}]),t}(r.Component)),ke=function(e){var t="pagination__page-number";return s.a.createElement(r.Fragment,null,e.pageNumber<=e.currentPage+2&&e.pageNumber>=e.currentPage-2?s.a.createElement("div",{onClick:function(){return e.paginateList(e.pageNumber)},className:e.pageNumber===e.currentPage?t+" pagination__page-number--selected":t},e.pageNumber):null)},Oe=(a(455),function(e){var t=Math.ceil(e.items/e.itemsPerPage),a=Array.from(Array(t).keys()),n="pagination__page-number";return s.a.createElement("div",{className:"pagination"},s.a.createElement("div",{onClick:function(){return e.paginateList(1)},className:n},"First"),s.a.createElement("div",{onClick:1!==e.currentPage?function(){return e.paginateList(e.currentPage-1)}:null,className:n},"<"),a.map(function(t,a){return s.a.createElement(ke,{currentPage:e.currentPage,paginateList:e.paginateList,key:a+1,pageNumber:a+1})}),s.a.createElement("div",{onClick:e.currentPage!==t?function(){return e.paginateList(e.currentPage+1)}:null,className:n},">"),s.a.createElement("div",{onClick:function(){return e.paginateList(t)},className:n},"Last"))}),we=function(e){return s.a.createElement("div",null,e.searchInProgress?e.filteredResults.length>0&&s.a.createElement(Oe,{currentPage:e.currentPage,paginateList:e.paginateList,items:e.searchInProgress?e.filteredResults.length:e.list.length,itemsPerPage:e.itemsPerPage}):e.list.length>0&&s.a.createElement(Oe,{currentPage:e.currentPage,paginateList:e.paginateList,items:e.searchInProgress?e.filteredResults.length:e.list.length,itemsPerPage:e.itemsPerPage}))},Ne=(a(456),function(e){return s.a.createElement("div",{className:"datatable__footer"},s.a.createElement("div",{className:"datatable__footer-left"},s.a.createElement("div",null,s.a.createElement("p",null,"Total:"," ",e.searchInProgress?e.filteredResults.length:e.list.length))),s.a.createElement(we,{filteredResults:e.filteredResults,currentPage:e.currentPage,paginateList:e.paginateList,searchInProgress:e.searchInProgress,list:e.list,itemsPerPage:e.itemsPerPage}))}),je=(a(457),function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(M.a)(this,Object(S.a)(t).call(this,e))).handleChange=function(e){return a.setState(Object(me.a)({},e.target.name,e.target.value))},a.selectRow=function(e){a.props.selectRow(e)},a.changeItemsPerPage=function(e){a.setState({itemsPerPage:parseFloat(e.target.value)},function(){return a.paginateList(a.state.pageNumber)})},a.paginateList=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.state.list,n=e,r=a.state.itemsPerPage;a.setState({pageNumber:n}),a.state.searchInProgress&&(t=a.state.filteredResults);var s=a.paginate(t,r,n);s.length<1&&(s=a.paginate(t,r,1)),a.setState({paginatedList:s,currentPage:n})},a.paginate=function(e,t,a){return--a,e.slice(a*t,(a+1)*t)},a.search=function(e){var t=e.target.value;a.setState({search:t,searchInProgress:!0});var n=a.state.list.filter(function(e){var a="",n="";for(var r in e){if("firstName"===r)n=(e.firstName+" "+e.lastName).toString().toLowerCase().includes(t.toLowerCase());if(null!==e[r]&&(a=e[r].toString().toLowerCase().includes(t.toLowerCase())),a||n)return a||n}});a.setState({filteredResults:n},function(){return a.paginateList(1,n)}),""===t&&(a.setState({searchInProgress:!1}),a.paginateList(1))},a.sort=function(e){var t;a.state.searchInProgress?(t=a.state.sortAsc?he.a.orderBy(a.state.filteredResults,[e],["asc"]):he.a.orderBy(a.state.filteredResults,[e],["desc"]),a.setState({filteredResults:t,sortAsc:!a.state.sortAsc},function(){return a.paginateList(1)})):(t=a.state.sortAsc?he.a.orderBy(a.state.list,[e],["asc"]):he.a.orderBy(a.state.list,[e],["desc"]),a.setState({list:t,sortAsc:!a.state.sortAsc},function(){return a.paginateList(1)}))},a.handleSortedColChange=function(e){var t="".concat(e,"Sorted"),n=a.state.sortableCols,r=n.find(function(e){return e.name===t});r.sorted=!r.sorted,a.setState({sortableCols:n})},a.checkRow=function(e){if(a.state.checkedRows.find(function(t){return t[a.props.idCol]===e})){var t=a.state.checkedRows.filter(function(t){return t[a.props.idCol]!==e});a.setState({checkedRows:t})}else{var n=a.state.list.find(function(t){return t[a.props.idCol]===e});a.state.checkedRows.concat(),a.setState({checkedRows:a.state.checkedRows.concat(n)})}},a.checkAllRows=function(){a.setState({checkAllRows:!a.state.checkAllRows}),a.state.checkAllRows?a.setState({checkedRows:[]}):a.state.searchInProgress?a.setState({checkedRows:a.state.filteredResults}):a.setState({checkedRows:a.state.list})},a.showInactive=function(){a.setState({showInactive:!a.state.showInactive,showInactiveLoading:!0},function(){a.state.showInactive?a.props.showInactive(!0):a.props.showInactive(!1)})},a.actionAll=function(){a.props.actionAllFunction(a.state.checkedRows)},a.state={list:e.list.length>0?e.list:[],tableType:""!==e.tableType?e.tableType:"",search:"",searchInProgress:!1,filteredResults:[],paginatedList:[],sortableCols:[],itemsPerPage:10,pageNumber:1,checkedRows:[],checkAllRows:!1,sortAsc:!1,showInactive:!1,showInactiveLoading:!1},a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this,a=e.list;this.setState({list:a,showInactiveLoading:!1},function(){return t.paginateList(t.state.pageNumber)})}},{key:"componentDidMount",value:function(){var e=this;this.paginateList(this.state.pageNumber);var t=[];this.props.cols.forEach(function(a){if(a.sortable){var n="".concat(a.value,"Sorted").replace(/\s/g,"");t.push({name:n,sorted:!1}),e.setState(Object(me.a)({},n,!1))}}),this.setState({sortableCols:t})}},{key:"render",value:function(){var e,t=this.state.searchInProgress?this.state.filteredResults:this.state.list;return s.a.createElement("div",{className:"datatable"},s.a.createElement(fe,{changeItemsPerPage:this.changeItemsPerPage,searchValue:this.state.search,search:this.search,actionAllNeeded:this.props.actionAllNeeded,actionAllLabel:this.props.actionAllLabel,actionAllFunction:this.actionAll}),s.a.createElement(ve,(e={handleSortedColChange:this.handleSortedColChange,sortableCols:this.state.sortableCols,checkAllRows:this.checkAllRows,sort:this.sort,cols:this.props.cols},Object(me.a)(e,"checkAllRows",this.checkAllRows),Object(me.a)(e,"actionAllNeeded",this.props.actionAllNeeded),e)),s.a.createElement(ge,{paginatedList:this.state.paginatedList,cols:this.props.cols,selectRow:this.selectRow,results:t,timeSensitiveValue:this.props.timeSensitiveValue,checkRow:this.checkRow,checkAllRows:this.checkAllRows,allChecked:this.state.checkAllRows,idCol:this.props.idCol,actionAllNeeded:this.props.actionAllNeeded}),s.a.createElement(Ne,{searchInProgress:this.state.searchInProgress,filteredResults:this.state.filteredResults,list:this.state.list,showInactive:this.showInactive,showInactiveLoading:this.state.showInactiveLoading,currentPage:this.state.currentPage,paginateList:this.paginateList,itemsPerPage:this.state.itemsPerPage}))}}]),t}(s.a.Component)),Me=(a(627),a(458),function(e){var t=e.show,a=e.error,n=e.message,r=e.marginRight,o=e.marginTop,c=a?"message__error":"message__success",l={marginRight:"".concat(r,"px"),marginTop:"".concat(o,"px"),display:"flex",justifyContent:e.justifyContent};return t?s.a.createElement("div",{style:l,className:"message"},s.a.createElement("p",{className:c},a?n:"Task completed successfully.")):null}),Se=a(39),Ie=a.n(Se),_e=(a(465),function(e){return s.a.createElement(Ie.a,{ariaHideApp:!1,isOpen:e.isModalOpen,contentLabel:"Default Modal",className:"default-modal"},s.a.createElement("div",{className:"default-modal__header"},s.a.createElement("h3",null,e.title)),s.a.createElement("hr",null),s.a.createElement("div",{className:"default-modal__body"},"".concat(e.message," ").concat(void 0!==e.item?e.item:"")),s.a.createElement("hr",null),s.a.createElement("div",{className:"default-modal__footer"},e.children))}),Ae=(a(466),function(e){return s.a.createElement("div",{className:"pageheader"},s.a.createElement("div",{className:"pageheader__title"},s.a.createElement("h2",null,e.title),s.a.createElement("h3",null,e.subtitle)),s.a.createElement("div",{className:"pageheader__actions"},e.children))}),xe=(a(467),function(e){return s.a.createElement("div",{style:{},className:"pageaction",onClick:e.triggerAction},s.a.createElement("p",null,e.actionName))}),Te=(a(468),function(e){var t={width:"".concat(e.width,"%"),marginTop:"".concat(e.marginTop,"px"),cursor:e.button&&"pointer"},a=e.light?"label label__light":"label";return s.a.createElement("p",{style:t,className:a},e.text)}),Re=(a(469),function(e){var t={display:"flex",justifyContent:e.justifyContent,alignItems:e.alignItems,marginTop:"".concat(e.marginTop,"px"),marginBottom:"".concat(e.marginBottom,"px")};return s.a.createElement("div",{style:t},e.children)}),qe=(a(470),function(e){return s.a.createElement(Ie.a,{ariaHideApp:!1,isOpen:e.isModalOpen,contentLabel:"Default Modal",className:"error-modal"},s.a.createElement("div",{className:"error-modal__header"},s.a.createElement("h3",null,"An Error Has Occured")),s.a.createElement("hr",null),s.a.createElement("div",{className:"error-modal__body"},s.a.createElement("p",null,"An error has occured whilst processing this request, please try again later or contact the System Administrator."," ")),s.a.createElement("hr",null),s.a.createElement("div",{className:"error-modal__footer"},s.a.createElement(te,{marginTop:"25",justifyContent:"flex-end"},s.a.createElement(ee,{content:"Close",secondary:!0,onClick:e.closeModal}))))}),Be=(a(471),function(e){function t(){return Object(N.a)(this,t),Object(M.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this,t={id:1,name:"Michael Atherton",isAuthenticated:!0};return s.a.createElement("div",{className:"login"},s.a.createElement("div",{className:"login__form"},s.a.createElement("h1",null,"Mi3D Login"),s.a.createElement(de,{marginTop:"30"},s.a.createElement(ue,null,s.a.createElement(Te,{text:"Username:"}),s.a.createElement(Z,null))),s.a.createElement(de,{marginTop:"30",marginBottom:"30"},s.a.createElement(ue,null,s.a.createElement(Te,{text:"Password:"}),s.a.createElement(Z,null),s.a.createElement(Te,{text:"Forgot Password",light:!0,button:!0,width:"100",marginTop:"5"}))),s.a.createElement(te,null,s.a.createElement(ee,{content:"Login",onClick:function(){return e.props.loginUser(t)},primary:!0}))))}}]),t}(r.Component)),Pe=Object(w.b)(null,{loginUser:function(e){return{type:"LOGIN_USER",user:e}}})(Be),Qe=function(e){function t(){return Object(N.a)(this,t),Object(M.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("h1",null,"Page not found"))}}]),t}(r.Component),De=a(632),Le=(a(472),function(e){var t=e.selected===e.title?"primary-menu-item primary-menu-item--selected":"primary-menu-item";return s.a.createElement(De.a,{to:e.path,className:t,onClick:function(){return e.selectMenuItem(e.title)}},s.a.createElement("i",{className:e.icon}),s.a.createElement("p",null," ",e.title))}),Fe=[{title:"Rehab",icon:"fa fa-heart-o",path:"/cms/rehab/dashboard"}],Ve=(a(474),function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(M.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).selectMenuItem=function(e){a.props.selectPrimaryItem(e),a.props.selectSecondaryItem("Dashboard")},a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"primary-menu"},Fe.map(function(t,a){return s.a.createElement(Le,{key:a,title:t.title,icon:t.icon,selected:e.props.selectedPrimaryItem,selectMenuItem:e.selectMenuItem,path:t.path})}))}}]),t}(r.Component)),Ue=Object(w.b)(function(e){return{selectedPrimaryItem:e.menus.selectedPrimaryItem}},function(e){return{selectPrimaryItem:function(t){return e(q(t))},selectSecondaryItem:function(t){return e(B(t))}}})(Ve),Ye=(a(475),function(e){var t=e.selected===e.title?"secondary-menu-item secondary-menu-item--selected":"secondary-menu-item";return s.a.createElement(De.a,{to:e.path,className:t,onClick:function(){return e.selectSecondaryItem(e.title)}},s.a.createElement("i",{className:e.icon}),e.title)}),Ke=a(189),He=a.n(Ke),We=a(280),Ge=a.n(We),ze=(a(476),function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(M.a)(this,Object(S.a)(t).call(this,e))).highChartsRender=function(){He.a.chart({chart:{type:"pie",renderTo:"atmospheric-composition"},title:{verticalAlign:"middle",floating:!0,text:"Face To Face Dropout Reasons",style:{fontSize:"14px"}},plotOptions:{pie:{dataLabels:{format:"{point.name}: {point.percentage:.1f} %"},innerSize:"70%"}},series:a.state.series})},a.state={series:[{name:"F2F Reasons",data:[{name:"Knockout Answer Given",y:80,color:"rgb(99, 100, 102)"},{name:"Too Complicated",y:8,color:"#1baa57"},{name:"No Access To A Computer",y:2,color:"#3498db"},{name:"Would Prefer to See Physiotherapist",y:10,color:"#f7a800"}]}]},a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){this.highChartsRender()}},{key:"render",value:function(){return s.a.createElement(se,{fluid:!0,className:"dashboard"},s.a.createElement(ce,null,s.a.createElement(ie,{lg:3,md:6,sm:12},s.a.createElement("div",{className:"dashboard__tile1"},s.a.createElement(Y,{title:"New Cases",value:"14"}))),s.a.createElement(ie,{lg:3,md:6,sm:12},s.a.createElement("div",{className:"dashboard__tile2"},s.a.createElement(Y,{title:"Current Cases",value:"6"}))),s.a.createElement(ie,{lg:3,md:6,sm:12},s.a.createElement("div",{className:"dashboard__tile3"},s.a.createElement(Y,{title:"Outstanding Callbacks",value:"22"}))),s.a.createElement(ie,{lg:3,md:6,sm:12},s.a.createElement("div",{className:"dashboard__tile4"},s.a.createElement(Y,{title:"Chases In Progress",value:"13"})))),s.a.createElement(ce,null,s.a.createElement(ie,{lg:3,md:6,sm:12},s.a.createElement("div",{className:"dashboard__tile5"},s.a.createElement(Y,{title:"Completed Courses",value:"19"}))," "),s.a.createElement(ie,{lg:3,md:6,sm:12},s.a.createElement("div",{className:"dashboard__tile6"},s.a.createElement(Y,{title:"Face To Face Drop Outs",value:"15"}))),s.a.createElement(ie,{lg:3,md:6,sm:12},s.a.createElement("div",{className:"dashboard__tile7"},s.a.createElement(Y,{title:"Closed Cases",value:"22"}))),s.a.createElement(ie,{lg:3,md:6,sm:12},s.a.createElement("div",{className:"dashboard__tile8"},s.a.createElement(Y,{title:"None Compliant Cases",value:"11"})))),s.a.createElement(ce,null,s.a.createElement(ie,{lg:6},s.a.createElement("div",{className:"dashboard__chart"},s.a.createElement("div",{id:"atmospheric-composition"}))),s.a.createElement(ie,{lg:6},s.a.createElement("div",{className:"dashboard__chart"},s.a.createElement(Ge.a,{highcharts:He.a,options:{title:{text:"Completed Cases"},xAxis:{categories:["January","February","March","April","May"]},yAxis:{title:{text:"Case Count"}},chart:{type:"line"},series:[{name:"Completed Cases",data:[1,3,5,3,8]}]}})))))}}]),t}(r.Component)),Je=a(30),Xe=a(11),Ze=a.n(Xe),$e=a(25),et=a(29),tt=a.n(et),at="http://bluedog-repo-microservice-dev/api/",nt="http://premex.microservices.mi3d.cases.expedia.org/api/",rt=function(){var e=Object($e.a)(Ze.a.mark(function e(){var t;return Ze.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tt()({method:"GET",url:at+"case/getcliniciancases",dataType:"json"});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),st=function(){var e=Object($e.a)(Ze.a.mark(function e(){var t;return Ze.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tt()({method:"GET",url:nt+"case/getallcases",dataType:"json"});case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),ot=function(){var e=Object($e.a)(Ze.a.mark(function e(t){var a;return Ze.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tt()({method:"POST",url:nt+"case/updatecase",dataType:"json",data:t});case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),ct=function(){var e=Object($e.a)(Ze.a.mark(function e(t){var a;return Ze.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tt()({method:"POST",url:nt+"case/updatecontactdetails",data:t,dataType:"json"});case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),lt=function(){var e=Object($e.a)(Ze.a.mark(function e(t){var a;return Ze.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tt()({method:"POST",url:at+"case/updatecasestatus",dataType:"json",data:{bluedogCaseRef:t}});case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),it=function(){var e=Object($e.a)(Ze.a.mark(function e(t){var a;return Ze.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tt()({method:"POST",url:nt+"case/createcase",dataType:"json",data:t});case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),ut=function(){var e=Object($e.a)(Ze.a.mark(function e(t){var a;return Ze.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tt()({method:"POST",url:nt+"case/getcase",dataType:"json",data:{caseId:t}});case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),dt=function(){var e=Object($e.a)(Ze.a.mark(function e(t){var a;return Ze.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tt()({method:"POST",url:nt+"case/acceptdpa",dataType:"json",data:t});case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),mt=function(){var e=Object($e.a)(Ze.a.mark(function e(t){var a;return Ze.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tt()({method:"POST",url:nt+"case/createcasenote",dataType:"json",data:t});case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),pt=function(){var e=Object($e.a)(Ze.a.mark(function e(t){var a;return Ze.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tt()({method:"POST",url:nt+"case/updatecasenote",dataType:"json",data:t});case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),ht=function(){var e=Object($e.a)(Ze.a.mark(function e(t){var a;return Ze.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tt()({method:"POST",url:nt+"case/removecasenote",dataType:"json",data:t});case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),ft="http://bluedog-repo-microservice-dev/api/",vt=function(){var e=Object($e.a)(Ze.a.mark(function e(t){var a;return Ze.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt()({method:"POST",url:ft+"party/updateinjuredparty",data:t,dataType:"json"});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),bt=function(){var e=Object($e.a)(Ze.a.mark(function e(t){var a;return Ze.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tt()({method:"POST",url:ft+"party/getinjuredparty",data:{bluedogCaseRef:t},dataType:"json"});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),Et=function(){var e=Object($e.a)(Ze.a.mark(function e(t){var a;return Ze.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tt()({method:"POST",url:ft+"party/updateinjuredpartycontact",data:t,dataType:"json"});case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),yt=function(){var e=Object($e.a)(Ze.a.mark(function e(t){var a;return Ze.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tt()({method:"POST",url:ft+"party/removeinjuredpartycontact",data:t,dataType:"json"});case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),Ct=function(){var e=Object($e.a)(Ze.a.mark(function e(t){var a;return Ze.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tt()({method:"POST",url:ft+"party/addinjuredpartycontact",data:t,dataType:"json"});case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),gt="http://premex.microservices.mi3d.cases.expedia.org/api/",kt=function(){var e=Object($e.a)(Ze.a.mark(function e(t){var a;return Ze.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tt()({method:"POST",url:gt+"callback/createcallback",dataType:"json",data:t});case 3:return a=e.sent,e.abrupt("return",a);case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),Ot=function(){var e=Object($e.a)(Ze.a.mark(function e(t){var a;return Ze.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tt()({method:"POST",url:gt+"callback/removecallback",dataType:"json",data:t});case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),wt=function(){var e=Object($e.a)(Ze.a.mark(function e(t){var a;return Ze.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tt()({method:"POST",url:gt+"callback/reschedulecallback",dataType:"json",data:t});case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),Nt=function(){var e=Object($e.a)(Ze.a.mark(function e(t){var a;return Ze.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tt()({method:"POST",url:gt+"callback/completecallback",dataType:"json",data:t});case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),jt=function(){var e=Object($e.a)(Ze.a.mark(function e(){var t;return Ze.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tt()({method:"GET",url:gt+"callback/getcallbacks",dataType:"json"});case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),Mt="http://premex.microservices.mi3d.cases.expedia.org/api/",St=function(){var e=Object($e.a)(Ze.a.mark(function e(t){var a;return Ze.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tt()({method:"POST",url:Mt+"survey/savecompletedsurvey",dataType:"json",data:t});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),It=function(){var e=Object($e.a)(Ze.a.mark(function e(t){var a;return Ze.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tt()({method:"POST",url:Mt+"survey/getcompletedsurvey",dataType:"json",data:{completedSurveyId:t}});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),_t=function(e,t){return e.every(function(e){return t.indexOf(e)>-1})},At=function(e){var t=[],a=0;if(e.forEach(function(e){var a=Object.keys(e)[0],n=e[Object.keys(e)[0]];if("string"!==typeof a&&"number"!==typeof a)return t;""!==n?t.push({value:a,isValid:!0}):t.push({value:a,isValid:!1})}),t.forEach(function(e){var t=Object.keys(e)[1],n=e[Object.keys(e)[1]];"isValid"===t&&!0===n&&a++}),a===e.length){t.push({isValid:!0})}else{t.push({isValid:!1})}return t};function xt(e){var t=this;e.forEach(function(e){if(!e.isValid){var a="".concat(e.value,"IsValid");t.setState(Object(me.a)({},a,!1))}})}function Tt(e){var t=this;e.forEach(function(e){var a="".concat(Object.keys(e)[0],"IsValid");t.setState(Object(me.a)({},a,!0))})}function Rt(e){var t="".concat(e,"IsValid");return!1===this.state[t]?{borderBottom:"1px solid red"}:{}}function qt(e){var t="".concat(e,"IsValid");this.setState(Object(me.a)({},t,!0))}function Bt(e,t){var a;switch(t){case"modal":e instanceof Error&&(this.setState({showErrorModal:!0}),a=!0);break;case"message":e instanceof Error&&(this.setState({showErrorMessage:!0}),a=!0);break;default:a=!1}return a}a(497);var Pt=function(e){function t(){return Object(N.a)(this,t),Object(M.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.props,t=e.cases,a=e.selectCase;return s.a.createElement(je,{list:t,selectRow:a,showInactive:this.showInactive,cols:[{value:"firstName",title:"First Name",sortable:!0},{value:"lastName",title:"Last Name",sortable:!0},{value:"bluedogCaseRef",title:"Rehab Reference",sortable:!0},{value:"instructingPartyName",title:"Instructing Party",sortable:!0},{value:"status",title:"Status",sortable:!1}]})}}]),t}(r.Component),Qt=(a(498),function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(M.a)(this,Object(S.a)(t).call(this,e))).getClinicianCases=function(){rt().then(function(e){a.checkForErrors(e,"modal")||a.setState({cases:e})})},a.getInjuredPartyDetails=function(e){return bt(e.bluedogCaseRef).then(function(t){if(a.props.selectBluedogCase(t),!a.checkForErrors(t,"modal"))return Object(h.a)({},e,{firstName:t.firstName,lastName:t.lastName,instructingPartyName:t.instructingPartyName})})},a.createCaseIfDoesntExist=function(e){return it(e).then(function(e){if(!a.checkForErrors(e,"modal")){var t=e.data.result.caseId;return a.props.updateMi3dCaseId(t),t}})},a.getCase=function(e){ut(e).then(function(e){a.checkForErrors(e,"modal")||a.props.updateMi3dCase(e.data.result)})},a.updateBluedogCaseStatus=function(e){lt(e)},a.selectCase=function(e){a.getInjuredPartyDetails(e).then(function(e){a.createCaseIfDoesntExist(e).then(function(e){a.getCase(e)})}),a.updateBluedogCaseStatus(e.bluedogCaseRef),a.props.selectSecondaryItem("Cases"),a.props.history.push("/cms/rehab/case/".concat(e.bluedogCaseRef))},a.state={cases:[],showErrorModal:!1},a.checkForErrors=Bt.bind(Object(Je.a)(a)),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){this.getClinicianCases()}},{key:"render",value:function(){var e=this,t=this.state.cases;return s.a.createElement(se,{fluid:!0},s.a.createElement(Ae,{title:"New Clinican Cases"}),s.a.createElement(ce,null,s.a.createElement(ie,{lg:12,md:12},s.a.createElement(Pt,{cases:t,selectCase:this.selectCase}))),s.a.createElement(qe,{isModalOpen:this.state.showErrorModal,closeModal:function(){return e.setState({showErrorModal:!1})}}))}}]),t}(r.Component)),Dt=Object(w.b)(null,function(e){return{selectBluedogCase:function(t){return e(P(t))},selectSecondaryItem:function(t){return e(B(t))},updateMi3dCase:function(t){return e(D(t))},updateMi3dCaseId:function(t){return e(function(e){return{type:"UPDATE_MI3D_CASE_ID",caseId:e}}(t))}}})(Qt),Lt=function(e){function t(){return Object(N.a)(this,t),Object(M.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.props.case,t=e.firstName,a=e.lastName,n=e.email,r=e.dateOfBirth,o=e.address1,c=e.address2,l=e.address3,i=e.address4,u=e.houseNo,d=e.postCode,m=(e.instructingParty,e.age);return s.a.createElement("div",null,s.a.createElement(de,null,s.a.createElement(ue,{inline:!0},s.a.createElement(Te,{text:"First Name:"}),s.a.createElement("p",null,t)),s.a.createElement(ue,{inline:!0},s.a.createElement(Te,{text:"Last Name:"}),s.a.createElement("p",null,a))),s.a.createElement(de,null,s.a.createElement(ue,{inline:!0},s.a.createElement(Te,{text:"House No:"}),s.a.createElement("p",null,u)),s.a.createElement(ue,{inline:!0},s.a.createElement(Te,{text:"Address 1:"}),s.a.createElement("p",null,o))),s.a.createElement(de,null,s.a.createElement(ue,{inline:!0},s.a.createElement(Te,{text:"Address 2"}),s.a.createElement("p",null,c)),s.a.createElement(ue,{inline:!0},s.a.createElement(Te,{text:"Address 3:"}),s.a.createElement("p",null,l))),s.a.createElement(de,null,s.a.createElement(ue,{inline:!0},s.a.createElement(Te,{text:"Address 4:"}),s.a.createElement("p",null,i)),s.a.createElement(ue,{inline:!0},s.a.createElement(Te,{text:"Postcode: "}),s.a.createElement("p",null,d))),s.a.createElement(de,null,s.a.createElement(ue,{inline:!0},s.a.createElement(Te,{text:"Email:"}),s.a.createElement("p",null,n)),s.a.createElement(ue,{inline:!0},s.a.createElement(Te,{text:"Date of Birth:"}),s.a.createElement("p",null,Ee()(r).format("DD/MM/YYYY")))),s.a.createElement(de,null,s.a.createElement(ue,{inline:!0},s.a.createElement(Te,{text:"Age:"}),s.a.createElement("p",null,m))),s.a.createElement(te,{justifyContent:"flex-end"},s.a.createElement(ee,{content:"Update",primary:!0,onClick:this.props.switchForms})))}}]),t}(r.Component),Ft=function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(M.a)(this,Object(S.a)(t).call(this,e))).handleChange=function(e,t){var n=t.name,r=t.value;a.setState(Object(me.a)({},n,r))},a.updateDetails=function(){var e={bluedogCaseRef:a.state.bluedogCaseRef,firstName:a.state.firstName,lastName:a.state.lastName,email:a.state.email,dateOfBirth:a.state.dateOfBirth,address1:a.state.address1,address2:a.state.address2,address3:a.state.address3,address4:a.state.address4,houseNo:a.state.houseNo,postCode:a.state.postCode};a.props.updateDetails(e)},a.state={updating:!1,bluedogCaseRef:e.case.bluedogCaseRef,firstName:e.case.firstName,lastName:e.case.lastName,email:e.case.email,dateOfBirth:e.case.dateOfBirth,address1:e.case.address1,address2:e.case.address2,address3:e.case.address3,address4:e.case.address4,houseNo:e.case.houseNo,postCode:e.case.postCode},a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.state,t=e.firstName,a=e.lastName,n=e.email,r=e.dateOfBirth,o=e.address1,c=e.address2,l=e.address3,i=e.address4,u=e.houseNo,d=e.postCode;return s.a.createElement("div",null,s.a.createElement(de,{marginBottom:"10"},s.a.createElement(ue,{inline:!0},s.a.createElement("p",null,"First Name: "),s.a.createElement(Z,{value:t,name:"firstName",onChange:this.handleChange})),s.a.createElement(ue,{inline:!0},s.a.createElement("p",null,"Last Name: "),s.a.createElement(Z,{value:a,name:"lastName",onChange:this.handleChange}))),s.a.createElement(de,{marginBottom:"10"},s.a.createElement(ue,{inline:!0},s.a.createElement("p",null,"House No: "),s.a.createElement(Z,{value:u,name:"houseNo",onChange:this.handleChange})),s.a.createElement(ue,{inline:!0},s.a.createElement("p",null,"Address 1: "),s.a.createElement(Z,{value:o,name:"address1",onChange:this.handleChange}))),s.a.createElement(de,{marginBottom:"10"},s.a.createElement(ue,{inline:!0},s.a.createElement("p",null,"Address 2: "),s.a.createElement(Z,{value:c,name:"address2",onChange:this.handleChange})),s.a.createElement(ue,{inline:!0},s.a.createElement("p",null,"Address 3: "),s.a.createElement(Z,{value:l,name:"address3",onChange:this.handleChange}))),s.a.createElement(de,{marginBottom:"10"},s.a.createElement(ue,{inline:!0},s.a.createElement("p",null,"Address 4: "),s.a.createElement(Z,{value:i,name:"address4",onChange:this.handleChange})),s.a.createElement(ue,{inline:!0},s.a.createElement("p",null,"Postcode: "),s.a.createElement(Z,{value:d,name:"postCode",onChange:this.handleChange}))),s.a.createElement(de,{marginBottom:"10"},s.a.createElement(ue,{inline:!0},s.a.createElement("p",null,"Email: "),s.a.createElement(Z,{value:n,name:"email",onChange:this.handleChange})),s.a.createElement(ue,{inline:!0},s.a.createElement("p",null,"Date of Birth: "),s.a.createElement(Z,{value:Ee()(r).format("DD/MM/YYYY"),name:"dateOfBirth",onChange:this.handleChange}))),s.a.createElement(te,{marginTop:40,justifyContent:"flex-end"},s.a.createElement(ee,{content:"Cancel",secondary:!0,onClick:this.props.switchForms}),s.a.createElement(ee,{content:"Save",primary:!0,onClick:this.updateDetails})))}}]),t}(r.Component),Vt=function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(M.a)(this,Object(S.a)(t).call(this,e))).switchForms=function(){a.setState({updating:!a.state.updating})},a.updateDetails=function(e){var t=Object(h.a)({},a.props.case,e,{caseId:a.props.mi3dCase.caseId,actionedBy:a.props.user.name});ot(t).then(function(e){e.data.hasErrors||a.props.updateMi3dCase(e.data.result)}),vt(t).then(function(e){200===e.status?(a.setState({showMessage:!0}),setTimeout(function(){return a.setState({showMessage:!1})},3e3),a.props.updateBluedogCase(e.data),a.switchForms()):a.setState({showMessage:!0,message:e.data})})},a.state={updating:!1,showMessage:!1,message:""},a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(U,{title:"Injured Party Details",collapse:!1},this.state.updating?s.a.createElement(Ft,{case:this.props.case,switchForms:this.switchForms,updateDetails:this.updateDetails}):s.a.createElement(Lt,{case:this.props.case,mi3dCase:this.props.mi3dCase,switchForms:this.switchForms}),s.a.createElement(Me,{show:this.state.showMessage,error:""!==this.state.message,message:this.state.message,justifyContent:"flex-end",marginTop:-25,marginRight:110})))}}]),t}(r.Component),Ut=Object(w.b)(function(e){return{case:e.case.selectedCase,mi3dCase:e.case.mi3dCase,user:e.auth.user}},function(e){return{updateBluedogCase:function(t){return e(Q(t))},updateMi3dCase:function(t){return e(D(t))}}})(Vt),Yt=[{text:"Home",value:"Home"},{text:"Mobile",value:"Mobile"},{text:"Work",value:"Work"},{text:"Other",value:"Other"}],Kt=[{text:"Yes",value:"Y"},{text:"No",value:"N"}],Ht=[{text:"Initial Call",value:"Initial"},{text:"Rescheduled Call",value:"Reschedule"}],Wt=[{text:"Yes",value:!0},{text:"No",value:!1}],Gt=(a(499),function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(M.a)(this,Object(S.a)(t).call(this,e))).handleChange=function(e,t){var n=t.name,r=t.value;a.setItemToValidate(n),a.setState(Object(me.a)({},n,r))},a.listToValidate=function(){return[{contactNumber:a.state.contactNumber},{contactNumberType:a.state.contactNumberType},{preferred:a.state.preferred}]},a.saveNumber=function(){var e={contactNumberId:a.state.contactNumberId,contactNumberType:a.state.contactNumberType,contactNumber:a.state.contactNumber,preferred:a.state.preferred,notes:a.state.notes,bluedogCaseRef:a.props.bluedogCaseRef,partyId:a.props.partyId},t=At(a.listToValidate());t[t.length-1].isValid?a.props.addNew?a.props.saveNumber(e):a.props.updateNumber(e):a.validateItems(t)},a.closeModal=function(){a.removeValidationErrors(a.listToValidate()),a.setState({contactNumberId:"",contactNumberType:"",contactNumber:"",preferred:"",notes:""}),a.props.closeModal()},a.state={contactNumberId:"",contactNumberType:"",contactNumber:"",preferred:"",notes:""},a.setItemToValidate=qt.bind(Object(Je.a)(a)),a.validateItems=xt.bind(Object(Je.a)(a)),a.validateItem=Rt.bind(Object(Je.a)(a)),a.removeValidationErrors=Tt.bind(Object(Je.a)(a)),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"componentWillReceiveProps",value:function(e){void 0!==e.telephoneInfo&&(void 0===e.telephoneInfo.contactNumberId||e.addNew?this.setState({contactNumberId:"",contactNumberType:"",contactNumber:"",preferred:"",notes:""}):this.setState({contactNumberId:e.telephoneInfo.contactNumberId,contactNumberType:e.telephoneInfo.contactNumberType,contactNumber:e.telephoneInfo.contactNumber,preferred:e.telephoneInfo.preferred,notes:e.telephoneInfo.notes}))}},{key:"render",value:function(){var e=this.state,t=e.contactNumberType,a=e.preferred,n=e.notes;return s.a.createElement(Ie.a,{ariaHideApp:!1,isOpen:this.props.isModalOpen,contentLabel:"Contact Number",className:"contact-modal"},s.a.createElement("div",{className:"contact-modal__title"},s.a.createElement("h3",null,"Injured Party Contact Details")),s.a.createElement("hr",null),s.a.createElement("div",{className:"contact-modal__body"},s.a.createElement(de,{marginBottom:20},s.a.createElement(ue,null,s.a.createElement("p",null,"Type:"),s.a.createElement(J,{options:Yt,selection:!0,value:t,onChange:this.handleChange,name:"contactNumberType",style:this.validateItem("contactNumberType")})),s.a.createElement(ue,null,s.a.createElement("p",null,"Preferred:"),s.a.createElement(J,{options:Kt,selection:!0,value:a,onChange:this.handleChange,name:"preferred",style:this.validateItem("preferred")})),s.a.createElement(ue,{width:"100"},s.a.createElement("p",null,"Number:"),s.a.createElement(Z,{value:this.state.contactNumber,name:"contactNumber",onChange:this.handleChange,style:this.validateItem("contactNumber")}))),s.a.createElement(de,null,s.a.createElement(ue,{flexBasis:"100"},s.a.createElement("p",null,"Notes:"),s.a.createElement(ne,null,s.a.createElement(F,{value:n,name:"notes",onChange:this.handleChange}))))),s.a.createElement("hr",null),s.a.createElement("div",{className:"contact-modal__footer"},s.a.createElement(te,{justifyContent:"flex-end",marginTop:15},s.a.createElement(ee,{content:"Close",secondary:!0,onClick:this.closeModal}),s.a.createElement(ee,{content:this.props.addNew?"Add":"Update",primary:!0,onClick:this.saveNumber}))))}}]),t}(r.Component)),zt=(a(500),function(e){return s.a.createElement(Ie.a,{ariaHideApp:!1,isOpen:e.isModalOpen,contentLabel:"Are you sure?",className:"remove-num-modal"},s.a.createElement("div",{className:"remove-num-modal__header"},s.a.createElement("h3",null,"Remove Number")),s.a.createElement("hr",null),s.a.createElement("div",{className:"remove-num-modal__body"},s.a.createElement("p",null,"Are you sure you want to remove this number?")),s.a.createElement("hr",null),s.a.createElement("div",{className:"remove-num-modal__footer"},s.a.createElement(te,{justifyContent:"flex-end",marginTop:25},s.a.createElement(ee,{content:"Close",secondary:!0,onClick:e.closeModal}),s.a.createElement(ee,{content:"Remove",type:"danger",onClick:e.removeContactDetail}))))}),Jt=(a(501),function(e){var t=e.info,a=t.contactNumberType,n=t.contactNumber,r=t.preferred,o=t.notes;return s.a.createElement("tr",{className:"contact-row"},s.a.createElement("td",{onClick:e.updateContactInfo},s.a.createElement("p",null,a)),s.a.createElement("td",{onClick:e.updateContactInfo},s.a.createElement("p",null,n)),s.a.createElement("td",{onClick:e.updateContactInfo},s.a.createElement("p",null,"Y"===r?"Yes":"No")),s.a.createElement("td",null,s.a.createElement("p",null,o),s.a.createElement("span",{onClick:e.showRemoveModal,className:"contact-row__close"},s.a.createElement("p",null,"x"))))}),Xt=(a(502),function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(M.a)(this,Object(S.a)(t).call(this,e))).closeModal=function(){a.setState({modalOpen:!1,contactInfoToUpdate:{},addNew:!1})},a.updateContactInfo=function(e){a.setState({contactInfoToUpdate:e,selectedId:e.contactNumberId,addNew:!1},function(){a.setState({modalOpen:!0})})},a.logActivity=function(e,t){if(200===e.status){a.setState({showMessage:!0,modalOpen:!1,removeModalOpen:!1}),setTimeout(function(){return a.setState({showMessage:!1})},3e3),a.props.updateBluedogCase(e.data);var n={action:t,caseId:a.props.mi3dCase.caseId,actionedBy:a.props.user.name};ct(n).then(function(e){a.props.updateMi3dCase(e.data.result)})}else a.setState({showMessage:!0,message:e.data}),a.closeModal()},a.updateNumber=function(e){Et(e).then(function(e){a.logActivity(e,"Update")})},a.saveNumber=function(e){Ct(e).then(function(e){a.logActivity(e,"Add")})},a.removeNumber=function(){var e={contactNumberId:a.state.selectedId,bluedogCaseRef:a.props.case.bluedogCaseRef};yt(e).then(function(e){if(200===e.status){var t=e.data.telephoneInfo.find(function(e){return e.contactNumberId===a.state.selectedId});a.setState({contactInfoToUpdate:t})}a.logActivity(e,"Remove")})},a.showRemoveModal=function(e){return a.setState({removeModalOpen:!0,selectedId:e})},a.closeRemoveModal=function(){a.setState({removeModalOpen:!1})},a.state={contactInfoToUpdate:{},selectedId:"",addNew:!1,showMessage:!1,message:"",modalOpen:!1,removeModalOpen:!1},a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(U,{title:"Contact Details",collapse:!1},s.a.createElement("div",null,s.a.createElement("table",{className:"contact-details-table"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement("p",null,"Type")),s.a.createElement("td",null,s.a.createElement("p",null,"Number")),s.a.createElement("td",null,s.a.createElement("p",null,"Preferred")),s.a.createElement("td",null,s.a.createElement("p",null,"Notes")))),s.a.createElement("tbody",null,this.props.case.telephoneInfo.map(function(t,a){return s.a.createElement(Jt,{info:t,key:a,updateContactInfo:function(){return e.updateContactInfo(t)},showRemoveModal:function(){return e.showRemoveModal(t.contactNumberId)}})}))),s.a.createElement(te,{marginTop:5,justifyContent:"flex-end"},s.a.createElement(Me,{show:this.state.showMessage,error:""!==this.state.message,message:this.state.message,marginRight:45}),s.a.createElement(ee,{content:"Add a number",primary:!0,onClick:function(){return e.setState({modalOpen:!0,addNew:!0})}})),s.a.createElement(Gt,{isModalOpen:this.state.modalOpen,closeModal:this.closeModal,telephoneInfo:this.state.contactInfoToUpdate,updateNumber:this.updateNumber,saveNumber:this.saveNumber,bluedogCaseRef:this.props.case.bluedogCaseRef,partyId:this.props.case.partyId,addNew:this.state.addNew}),s.a.createElement(zt,{isModalOpen:this.state.removeModalOpen,closeModal:this.closeRemoveModal,removeContactDetail:this.removeNumber})))}}]),t}(r.Component)),Zt=Object(w.b)(function(e){return{case:e.case.selectedCase,mi3dCase:e.case.mi3dCase,user:e.auth.user}},function(e){return{updateBluedogCase:function(t){return e(Q(t))},updateMi3dCase:function(t){return e(D(t))}}})(Xt),$t=(a(503),function(){return s.a.createElement(U,{title:"Completed Documents",collapse:!1,openByDefault:!1},s.a.createElement(de,null,s.a.createElement("p",{className:"light"},"No documents have been completed..")))}),ea=function(e){var t=e.survey,a=t.name,n=t.completed,r=t.path,o=t.completedBy,c={backgroundColor:n?"rgba(27, 170, 87, .2)":null};return s.a.createElement("div",{style:c,onClick:function(){return e.selectSurvey(r)},className:"survey"},s.a.createElement("p",null,a),n&&s.a.createElement("p",null,"Completed by ",o))},ta=(a(504),function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(M.a)(this,Object(S.a)(t).call(this,e))).getCompletedBy=function(e){switch(e){case"Initial":return null!==a.state.initialSurvey&&a.state.initialSurvey.completedBy}},a.surveys=function(){var e;return[(e={name:"Initial",completed:!1,path:"/cms/rehab/survey/initial/".concat(a.props.bluedogCaseRef)},Object(me.a)(e,"completed",null!==a.state.initialSurvey),Object(me.a)(e,"completedBy",a.getCompletedBy("Initial")),e),{name:"Clinician",completed:!1,path:"/cms/rehab/survey/clinician/".concat(a.props.bluedogCaseRef)},{name:"SOAP",completed:!1,path:"/cms/rehab/survey/soap/".concat(a.props.bluedogCaseRef)},{name:"Customer Satisfaction",completed:!1,path:"/cms/rehab/survey/customersatisfaction/".concat(a.props.bluedogCaseRef)}]},a.addSurveysToState=function(){if(a.props.mi3dCase.completedSurveys.length>0){var e=a.props.mi3dCase.completedSurveys.find(function(e){return"Initial"===e.type});void 0!==e&&a.setState({initialSurvey:e})}},a.state={initialSurvey:null},a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){return e.addSurveysToState()},200)}},{key:"componentWillUnmount",value:function(){this.setState({initialSurvey:null})}},{key:"render",value:function(){var e=this;return s.a.createElement(U,{title:"Available Surveys",collapse:!1,openByDefault:!1},this.surveys().map(function(t,a){return s.a.createElement(ea,{survey:t,key:a,selectSurvey:e.props.selectSurvey})}))}}]),t}(r.Component)),aa=(a(505),function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(M.a)(this,Object(S.a)(t).call(this,e))).handleChange=function(e,t){var n=t.name,r=t.value;return a.setState(Object(me.a)({},n,r))},a.closeModal=function(){a.props.closeModal()},a.saveNote=function(){a.props.addNew?a.props.createNote(a.state.noteText):a.props.updateNote(a.state.noteText)},a.state={noteText:"",noteId:""},a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.note;this.setState({noteText:t.noteText})}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(Ie.a,{ariaHideApp:!1,isOpen:this.props.isModalOpen,contentLabel:"Add Call Back",className:"add-note-modal"},s.a.createElement("div",{className:"add-note-modal__title"},s.a.createElement("h3",null,"Add Case Note")),s.a.createElement("hr",null),s.a.createElement("div",{className:"add-note-modal__body"},s.a.createElement(Te,{text:"Note:"}),s.a.createElement(ne,null,s.a.createElement(F,{name:"noteText",value:this.state.noteText,onChange:this.handleChange}))),s.a.createElement("hr",null),s.a.createElement("div",{className:"add-note-modal__footer"},s.a.createElement(te,{marginTop:"20",justifyContent:"flex-end"},s.a.createElement(ee,{content:"Close",secondary:!0,onClick:this.closeModal}),s.a.createElement(ee,{content:this.props.addNew?"Add Note":"Update Note",primary:!0,onClick:this.saveNote})))))}}]),t}(r.Component)),na=(a(506),function(e){return s.a.createElement("div",{className:"casenote"},s.a.createElement("div",{className:"casenote__note",onClick:e.openNote},s.a.createElement("p",null,e.note.noteText)),s.a.createElement("div",{className:"casenote__created",onClick:e.openNote},s.a.createElement("p",null,Ee()(e.note.createdOn).format("DD/MM/YYYY hh:mm A")),s.a.createElement("p",null,e.note.createdBy)),s.a.createElement("div",{className:"casenote__close",onClick:e.showRemoveModal},s.a.createElement("p",null,"x")))}),ra=(a(507),function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(M.a)(this,Object(S.a)(t).call(this,e))).closeAddNoteModal=function(){a.setState({addNoteModalOpen:!1})},a.openAddNoteModal=function(){a.setState({addNoteModalOpen:!0,addNew:!0})},a.openNote=function(e){a.setState({selectedNote:e,addNoteModalOpen:!0,addNew:!1})},a.createNote=function(e){var t={noteText:e,createdBy:a.props.user.name,caseId:a.props.mi3dCase.caseId,actionedBy:a.props.user.name};mt(t).then(function(e){e.data.hasErrors?a.setState({showMessage:!0,message:e.data.erros[0].errorMessage,addNoteModalOpen:!1}):(a.setState({showMessage:!0,addNoteModalOpen:!1}),setTimeout(function(){return a.setState({showMessage:!1})},3e3),a.props.updateMi3dCase(e.data.result))})},a.updateNote=function(e){var t={noteText:e,createdBy:a.props.user.name,caseId:a.props.mi3dCase.caseId,caseNoteId:a.state.selectedNote.caseNoteId,actionedBy:a.props.user.name};pt(t).then(function(e){e.data.hasErrors?a.setState({showMessage:!0,message:e.data.errors[0].errorMessage,addNoteModalOpen:!1}):(a.setState({showMessage:!0,addNoteModalOpen:!1}),setTimeout(function(){return a.setState({showMessage:!1})},3e3),a.props.updateMi3dCase(e.data.result))})},a.openRemoveNoteModal=function(e){a.setState({selectedNote:e,removeModalOpen:!0})},a.removeNote=function(){var e={caseId:a.props.mi3dCase.caseId,caseNoteId:a.state.selectedNote.caseNoteId,actionedBy:a.props.user.name};ht(e).then(function(e){e.data.hasErrors?a.setState({showMessage:!0,message:e.data.erros[0].errorMessage,removeModalOpen:!1}):(a.setState({showMessage:!0,removeModalOpen:!1}),setTimeout(function(){return a.setState({showMessage:!1})},3e3),a.props.updateMi3dCase(e.data.result))})},a.state={addNoteModalOpen:!1,showMessage:!1,message:"",selectedNote:{},addNew:!0,removeModalOpen:!1},a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this,t=he.a.orderBy(this.props.mi3dCase.caseNotes,[function(e){return e.createdOn}],["desc"]);return s.a.createElement(U,{title:"Case Notes",collapsible:!1,openByDefault:!1},null!=t&&t.length>0?t.map(function(t,a){return s.a.createElement(na,{note:t,key:a,openNote:function(){return e.openNote(t)},showRemoveModal:function(){return e.openRemoveNoteModal(t)}})}):s.a.createElement("p",{className:"light"},"No notes have been added.."),s.a.createElement(te,{marginTop:15,justifyContent:"flex-end"},s.a.createElement(Me,{show:this.state.showMessage,error:""!==this.state.message,message:this.state.message,marginRight:45}),s.a.createElement(ee,{content:"Add a note",primary:!0,onClick:this.openAddNoteModal})),s.a.createElement(aa,{isModalOpen:this.state.addNoteModalOpen,closeModal:this.closeAddNoteModal,createNote:this.createNote,note:this.state.selectedNote,addNew:this.state.addNew,updateNote:this.updateNote}),s.a.createElement(_e,{isModalOpen:this.state.removeModalOpen,title:"Remove Case Note",message:"Are you sure you want to remove this note?"},s.a.createElement(te,{justifyContent:"flex-end"},s.a.createElement(ee,{content:"Close",secondary:!0,onClick:function(){return e.setState({removeModalOpen:!1})}}),s.a.createElement(ee,{content:"Remove",type:"danger",onClick:this.removeNote}))))}}]),t}(r.Component)),sa=Object(w.b)(function(e){return{mi3dCase:e.case.mi3dCase,user:e.auth.user}},function(e){return{updateMi3dCase:function(t){return e(D(t))}}})(ra),oa=a(138),ca=(a(512),a(513),function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(M.a)(this,Object(S.a)(t).call(this,e))).handleDateChange=function(e){return a.setState({startDate:e})},a.handleChange=function(e,t){var n,r=t.name,s=t.value;a.setItemToValidate(r),a.setState((n={},Object(me.a)(n,r,s),Object(me.a)(n,"rescheduleSelected",!1),n),function(){"Reschedule"===a.state.callbackType&&a.setState({rescheduleSelected:!0})})},a.listToValidate=function(){return[{callbackType:a.state.callbackType}]},a.addCallback=function(){var e=At(a.listToValidate()),t=a.state.callbackType,n={createdBy:a.props.user.name,callbackType:t,caseId:a.props.mi3dCase.caseId,bluedogCaseRef:a.props.mi3dCase.bluedogCaseRef,actionedBy:a.props.user.name};if(e[e.length-1].isValid)if("Reschedule"===t){var r=Object(h.a)({},n,{timeToCall:a.state.startDate});a.props.addCallback(r)}else a.props.addCallback(n);else a.validateItems(e);a.closeModal()},a.closeModal=function(){a.removeValidationErrors(a.listToValidate()),a.setState({rescheduleSelected:!1,callbackType:""}),a.props.closeModal()},a.state={startDate:new Date,rescheduleSelected:!1,callbackType:""},a.setItemToValidate=qt.bind(Object(Je.a)(a)),a.validateItems=xt.bind(Object(Je.a)(a)),a.validateItem=Rt.bind(Object(Je.a)(a)),a.removeValidationErrors=Tt.bind(Object(Je.a)(a)),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.state,t=e.rescheduleSelected,a=e.startDate;return s.a.createElement(Ie.a,{ariaHideApp:!1,isOpen:this.props.isModalOpen,contentLabel:"Add Call Back",className:"add-callback-modal"},s.a.createElement("div",{className:"add-callback-modal__header"},s.a.createElement("h3",null,"Add a Call Back")),s.a.createElement("hr",null),s.a.createElement("div",{className:"add-callback-modal__body"},s.a.createElement(de,null,s.a.createElement(ue,{flexBasis:"30"},s.a.createElement(Te,{text:"Call Back Type:"}),s.a.createElement(J,{selection:!0,name:"callbackType",options:Ht,placeholder:"Select Type..",onChange:this.handleChange,style:this.validateItem("callbackType")})),t&&s.a.createElement(ue,null,s.a.createElement(Te,{text:"Call Back Time:"}),s.a.createElement(oa.a,{selected:a,onChange:this.handleDateChange,showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,dateFormat:"dd/MM/yyyy, h:mm aa",timeCaption:"time"})))),s.a.createElement("hr",null),s.a.createElement("div",{className:"add-callback-modal__footer"},s.a.createElement(te,{justifyContent:"flex-end",marginTop:15},s.a.createElement(Me,{show:this.props.show,error:""!==this.props.message,message:this.props.message,marginRight:45}),s.a.createElement(ee,{content:"Close",secondary:!0,onClick:this.closeModal}),s.a.createElement(ee,{content:"Add",primary:!0,onClick:this.addCallback}))))}}]),t}(r.Component)),la=(a(514),function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(M.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).renderBackgroundColour=function(){var e=a.props.callback,t=Ee()(e.timeToCall),n=Ee()(new Date).add(1,"days"),r=Ee()(new Date).add(4,"hours");return e.completed?"rgba(27, 170, 87, .2)":t<=r?"rgba(234, 90, 90, .2)":t<n?"rgba(255, 204, 0, .2)":void 0},a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.props.callback,t=e.timeToCall,a=e.completed,n=e.completedDate,r=e.completedBy,o=e.callBackType,c={backgroundColor:this.renderBackgroundColour()};return s.a.createElement("tr",{className:"callback-row"},s.a.createElement("td",{onClick:this.props.showUpdateModal,style:c},s.a.createElement("p",null,Ee()(t).format("DD/MM/YYYY hh:ss A"))),s.a.createElement("td",{onClick:this.props.showUpdateModal,style:c},s.a.createElement("p",null,o)),s.a.createElement("td",{onClick:this.props.showUpdateModal,style:c},s.a.createElement("p",null,a?"Yes":"No")),s.a.createElement("td",{onClick:this.props.showUpdateModal,style:c},s.a.createElement("p",null,n.includes("01/01/0001")?"N/A":Ee()(n).format("DD/MM/YYYY hh:ss A"))),s.a.createElement("td",{style:c},s.a.createElement("p",null,null!==r?r:"N/A"),s.a.createElement("span",{onClick:this.props.showRemoveModal,className:"callback-row__close"},s.a.createElement("p",null,"x"))))}}]),t}(r.Component)),ia=(a(515),function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(M.a)(this,Object(S.a)(t).call(this,e))).handleChange=function(e,t){var n=t.name,r=t.value,s=document.querySelector(".update-callback-modal");"callBackAnswered"===n&&!1===r?(a.setState({rescheduleNeeded:!1,callBackAnswered:!1,buttonContent:"Move Call Forward"}),s.style.height="230px"):a.setState({buttonContent:"Complete Call Back"}),"rescheduleNeeded"===n&&!0===r?(s.style.height="330px",a.setState({buttonContent:"Reschedule Call"})):"rescheduleNeeded"===n&&!1===r&&(s.style.height="230px",a.setState({buttonContent:"Complete Call Back"})),a.setItemToValidate(n),a.setState(Object(me.a)({},n,r))},a.handleDateChange=function(e){return a.setState({startDate:e})},a.listToValidate=function(){return[{callBackAnswered:a.state.callBackAnswered},{rescheduleNeeded:a.state.rescheduleNeeded}]},a.resetState=function(){a.setState({callBackAnswered:"",rescheduleNeeded:"",buttonContent:"Complete Call Back"})},a.closeModal=function(){a.resetState(),a.props.closeModal(),a.removeValidationErrors(a.listToValidate()),document.querySelector(".update-callback-modal").style.height="230px"},a.callback=function(){var e=a.props.callback.callBackType;return{createdBy:a.props.user.name,completedBy:a.props.user.name,caseId:a.props.mi3dCase.caseId,callBackId:a.props.callback.callBackId,bluedogCaseRef:a.props.mi3dCase.bluedogCaseRef,actionedBy:a.props.user.name,callbackType:e}},a.updateCallBack=function(){var e=At(a.listToValidate());if(e[e.length-1].isValid)if(a.state.rescheduleNeeded){var t=Object(h.a)({},a.callback(),{callbackType:"Reschedule",timeToCall:a.state.startDate});a.props.rescheduleCallBack(t),a.resetState()}else if(!1===a.state.callBackAnswered){var n=Object(h.a)({},a.callback(),{timeToCall:a.state.startDate});a.props.moveInitialCallBack(n),a.resetState()}else a.state.callBackAnswered&&!1===a.state.rescheduleNeeded&&(a.props.completeCallBack(a.callback()),a.resetState());else a.validateItems(e)},a.state={callBackAnswered:"",rescheduleNeeded:"",startDate:new Date,buttonContent:"Complete Call Back"},a.validateItems=xt.bind(Object(Je.a)(a)),a.removeValidationErrors=Tt.bind(Object(Je.a)(a)),a.validateItem=Rt.bind(Object(Je.a)(a)),a.setItemToValidate=qt.bind(Object(Je.a)(a)),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.state,t=e.callBackAnswered,a=e.rescheduleNeeded,n=e.startDate,r=e.buttonContent;return s.a.createElement(Ie.a,{ariaHideApp:!1,isOpen:this.props.isModalOpen,content:"Update Call Back",className:"update-callback-modal"},s.a.createElement("div",{className:"update-callback-modal__header"},s.a.createElement("h3",null,"Update Call Back")),s.a.createElement("hr",null),s.a.createElement("div",{className:"update-callback-modal__body"},s.a.createElement(de,{marginBottom:"25"},s.a.createElement(ue,{flexBasis:"40"},s.a.createElement(Te,{text:"Did the injured party answer the call?",width:"100"}),s.a.createElement(J,{options:Wt,selection:!0,name:"callBackAnswered",placeholder:"Select...",style:this.validateItem("callBackAnswered"),onChange:this.handleChange})),""!==t&&(!1!==t?s.a.createElement(ue,{flexBasis:"40"},s.a.createElement(Te,{text:"Do you need to reschedule the call?",width:"100"}),s.a.createElement(J,{options:Wt,selection:!0,name:"rescheduleNeeded",placeholder:"Select...",style:this.validateItem("rescheduleNeeded"),onChange:this.handleChange})):null)),a&&s.a.createElement(de,{marginBottom:"25"},s.a.createElement(ue,{flexBasis:"100"},s.a.createElement(Te,{text:"Select a time to call back",width:"100"}),s.a.createElement(oa.a,{selected:n,onChange:this.handleDateChange,showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,dateFormat:"dd/MM/yyyy, h:mm aa",timeCaption:"time"})))),s.a.createElement("hr",null),s.a.createElement("div",{className:"update-callback-modal__footer"},s.a.createElement(te,{justifyContent:"flex-end"},s.a.createElement(ee,{content:"Close",secondary:!0,onClick:this.closeModal}),s.a.createElement(ee,{content:r,primary:!0,onClick:this.updateCallBack}))))}}]),t}(r.Component)),ua=(a(516),function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(M.a)(this,Object(S.a)(t).call(this,e))).showRemoveModal=function(e){return a.setState({removeModalOpen:!0,selectedCallBack:e})},a.showUpdateModal=function(e){return a.setState({updateModalOpen:!0,selectedCallBack:e})},a.closeAddModal=function(){return a.setState({addModalOpen:!1})},a.closeUpdateModal=function(){return a.setState({updateModalOpen:!1})},a.validateResult=function(e){e.data.hasErrors?a.setState({showModalMessage:!0,modalMessage:e.data.errors[0].errorMessage}):(a.setState({showMessage:!0}),setTimeout(function(){return a.setState({showMessage:!1})},3e3),a.props.updateMi3dCase(e.data.result))},a.addCallback=function(e){a.setState({addModalOpen:!1}),kt(e).then(function(e){a.validateResult(e)})},a.removeCallBack=function(e){var t=Object(h.a)({},e,{caseId:a.props.mi3dCase.caseId,actionedBy:a.props.user.name});a.setState({removeModalOpen:!1}),Ot(t).then(function(e){a.validateResult(e)})},a.completeCallBack=function(e){a.setState({updateModalOpen:!1}),Nt(e).then(function(e){a.validateResult(e)})},a.rescheduleCallBack=function(e){a.setState({updateModalOpen:!1}),wt(e).then(function(e){a.validateResult(e)})},a.moveInitialCallBack=function(e){a.setState({updateModalOpen:!1}),wt(e).then(function(e){a.validateResult(e)})},a.callbacks=function(){return he.a.orderBy(a.props.mi3dCase.callBacks,[function(e){return e.completed},function(e){return e.timeToCall}],["asc"])},a.completedCalls=function(){return a.callbacks().filter(function(e){return!0===e.completed}).length},a.state={addModalOpen:!1,removeModalOpen:!1,updateModalOpen:!1,selectedCallBack:{},message:"",showMessage:!1,addModalMessage:"",showAddModalMessage:!1,updateModalMessage:"",showUpdateModal:!1},a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(U,{title:"Call Backs"},s.a.createElement("div",null,this.callbacks().length>0?s.a.createElement("div",null,s.a.createElement("table",{className:"callback-table"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement("p",null,"Time to call")),s.a.createElement("td",null,s.a.createElement("p",null,"Type")),s.a.createElement("td",null,s.a.createElement("p",null,"Completed")),s.a.createElement("td",null,s.a.createElement("p",null,"Completed on")),s.a.createElement("td",null,s.a.createElement("p",null,"Completed by")))),s.a.createElement("tbody",null,this.callbacks().map(function(t,a){return s.a.createElement(la,{key:a,callback:t,showRemoveModal:function(){return e.showRemoveModal(t)},showUpdateModal:function(){return e.showUpdateModal(t)}})})))):s.a.createElement("p",{className:"light"},"No callbacks have been scheduled..")),s.a.createElement(Re,{justifyContent:"space-between",alignItems:"flex-end"},s.a.createElement(Te,{marginTop:"20",width:"30",text:"Attempted Callbacks: ".concat(this.completedCalls())}),s.a.createElement(te,{marginTop:10,justifyContent:"flex-end"},s.a.createElement(Me,{show:this.state.showMessage,error:""!==this.state.message,message:this.state.message,marginRight:45}),s.a.createElement(ee,{content:"Add a call back",primary:!0,onClick:function(){return e.setState({addModalOpen:!0})}}))),s.a.createElement(ca,{isModalOpen:this.state.addModalOpen,closeModal:this.closeAddModal,addCallback:this.addCallback,show:this.state.showAddModalMessage,error:""!==this.state.addModalMessage,message:this.state.addModalMessage,mi3dCase:this.props.mi3dCase,user:this.props.user}),s.a.createElement(ia,{isModalOpen:this.state.updateModalOpen,closeModal:this.closeUpdateModal,show:this.state.showUpdateModalMessage,error:""!==this.state.updateModalMessage,message:this.state.updateModalMessage,callback:this.state.selectedCallBack,user:this.props.user,mi3dCase:this.props.mi3dCase,completeCallBack:this.completeCallBack,rescheduleCallBack:this.rescheduleCallBack,moveInitialCallBack:this.moveInitialCallBack}),s.a.createElement(_e,{isModalOpen:this.state.removeModalOpen,title:"Remove Call Back",message:"Are you sure you want to remove this call back?",item:this.state.selectedCallBack.timeToCall},s.a.createElement(te,{justifyContent:"flex-end"},s.a.createElement(ee,{content:"Close",secondary:!0,onClick:function(){return e.setState({removeModalOpen:!1})}}),s.a.createElement(ee,{content:"Remove",type:"danger",onClick:function(){return e.removeCallBack(e.state.selectedCallBack)}}))))}}]),t}(r.Component)),da=Object(w.b)(function(e){return{mi3dCase:e.case.mi3dCase,user:e.auth.user}},function(e){return{updateMi3dCase:function(t){return e(D(t))}}})(ua),ma=function(e){function t(){return Object(N.a)(this,t),Object(M.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return s.a.createElement(U,{title:"Chases",collapse:!1,openByDefault:!0},s.a.createElement("p",{className:"light"},"No chases have been started..."))}}]),t}(r.Component),pa=(a(517),function(e){function t(){return Object(N.a)(this,t),Object(M.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e={content:{height:"".concat(this.props.modalHeight,"px")}},t={height:"".concat(this.props.bodyHeight,"px")};return s.a.createElement(Ie.a,{ariaHideApp:!1,isOpen:this.props.isModalOpen,contentLabel:"Case Modal",className:"case-modal",style:e},s.a.createElement("div",{className:"case-modal__title"},s.a.createElement("h3",null,this.props.title)),s.a.createElement("hr",null),s.a.createElement("div",{style:t,className:"case-modal__body"},void 0!==this.props.text&&s.a.createElement(de,{marginBottom:"25"},s.a.createElement("p",{className:"case-modal__text"},this.props.text)),s.a.createElement(de,{marginBottom:"25"},s.a.createElement(ue,{flexBasis:"100"},s.a.createElement(Te,{width:"100",text:this.props.reasonText}),s.a.createElement(J,{selection:!0,options:[{text:"The client feels physiotherapy will not benefit them",value:"1"},{text:"The client is concerned about being liable for payment",value:"2"}],placeholder:"Select Reason.."}))),s.a.createElement(de,null,s.a.createElement(ue,{flexBasis:"100"},s.a.createElement(Te,{width:"100",text:"Additional Information"}),s.a.createElement(ne,null,s.a.createElement(F,null))))),s.a.createElement("hr",null),s.a.createElement("div",{className:"case-modal__footer"},s.a.createElement(te,{justifyContent:"flex-end",marginTop:"25"},s.a.createElement(ee,{content:"Cancel",secondary:!0,onClick:this.props.closeModal}),s.a.createElement(ee,{content:this.props.buttonContent,primary:!0}))))}}]),t}(r.Component)),ha=function(e){return s.a.createElement(U,{title:"Case Details"},s.a.createElement(de,null,s.a.createElement(ue,{flexBasis:"100",inline:!0},s.a.createElement(Te,{width:"20",text:"Status:"}),s.a.createElement("p",null,e.mi3dCase.status))),s.a.createElement(de,null,s.a.createElement(ue,{flexBasis:"100",inline:!0},s.a.createElement(Te,{width:"20",text:"Instructing Party:"}),s.a.createElement("p",null,e.case.instructingPartyName))),s.a.createElement(de,null,s.a.createElement(ue,{flexBasis:"100",inline:!0},s.a.createElement(Te,{width:"20",text:"Accepted Disclosure:"}),s.a.createElement("p",null,e.mi3dCase.dpaAccepted?"Yes":"No"))))},fa=(a(518),function(e){return s.a.createElement("tr",null,s.a.createElement("td",null,e.activity.activity),s.a.createElement("td",null,e.activity.actionedBy),s.a.createElement("td",null,Ee()(e.activity.actionedOn).format("DD/MM/YYYY hh:mm A")))}),va=function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(M.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).orderedActivities=function(){return he.a.orderBy(a.props.mi3dCase.caseActivities,["actionedOn"],["desc"])},a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return s.a.createElement(U,{title:"Case Activity"},s.a.createElement("div",{className:"case-activity"},this.orderedActivities().length>0?s.a.createElement("table",{className:"case-activity__table"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement("p",null,"Activity")),s.a.createElement("td",null,s.a.createElement("p",null,"Actioned By")),s.a.createElement("td",null,s.a.createElement("p",null,"Actioned On")))),s.a.createElement("tbody",null,this.orderedActivities().map(function(e,t){return s.a.createElement(fa,{activity:e,key:t})}))):s.a.createElement("p",{className:"light"},"This case has had no activity.")))}}]),t}(r.Component),ba=Object(w.b)(function(e){return{mi3dCase:e.case.mi3dCase}})(va),Ea=function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(M.a)(this,Object(S.a)(t).call(this,e))).selectSurvey=function(e){a.props.history.push(e)},a.openHoldModal=function(){a.setState({caseModalOpen:!0,caseModalButtonContent:"Hold Case",caseModalTitle:"Put the case on hold",caseModalReasonText:"Reason for putting the case on hold:"})},a.openCloseModal=function(){a.setState({caseModalOpen:!0,caseModalButtonContent:"Close Case",caseModalTitle:"Close the case",caseModalReasonText:"Reason for closing the case:"})},a.state={caseModalOpen:!1,caseModalButtonContent:"",caseModalTitle:"",caseModalReasonText:""},a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this;return void 0!==this.props.case.bluedogCaseRef?s.a.createElement(se,{fluid:!0},s.a.createElement(Ae,{title:"Case Ref - ".concat(this.props.case.bluedogCaseRef)},s.a.createElement(xe,{actionName:"Hold Case",triggerAction:this.openHoldModal}),s.a.createElement(xe,{actionName:"Close Case",triggerAction:this.openCloseModal})),s.a.createElement(ce,null),s.a.createElement(ce,null,s.a.createElement(ie,{lg:6,md:12,sm:12},s.a.createElement(ce,null,s.a.createElement(ie,{sm:12},s.a.createElement(Ut,null))),s.a.createElement(ce,null,s.a.createElement(ie,{sm:12},s.a.createElement(ta,{bluedogCaseRef:this.props.case.bluedogCaseRef,selectSurvey:this.selectSurvey,mi3dCase:this.props.mi3dCase}))),s.a.createElement(ce,null,s.a.createElement(ie,{sm:12},s.a.createElement($t,null))),s.a.createElement(ce,null,s.a.createElement(ie,{sm:12},s.a.createElement(ba,null)))),s.a.createElement(ie,{lg:6,md:12,sm:12},s.a.createElement(ce,null,s.a.createElement(ie,{sm:12},s.a.createElement(ha,{case:this.props.case,mi3dCase:this.props.mi3dCase}))),s.a.createElement(ce,null,s.a.createElement(ie,{sm:12},s.a.createElement(Zt,null))),s.a.createElement(ce,null,s.a.createElement(ie,{sm:12},s.a.createElement(da,null))),s.a.createElement(ce,null,s.a.createElement(ie,{sm:12},s.a.createElement(ma,null))),s.a.createElement(ce,null,s.a.createElement(ie,{sm:12},s.a.createElement(sa,null))))),s.a.createElement(pa,{isModalOpen:this.state.caseModalOpen,buttonContent:this.state.caseModalButtonContent,title:this.state.caseModalTitle,closeModal:function(){return e.setState({caseModalOpen:!1})},reasonText:this.state.caseModalReasonText})):s.a.createElement("div",null,s.a.createElement("p",null,"Case Not Found"))}}]),t}(r.Component),ya=Object(w.b)(function(e){return{case:e.case.selectedCase,mi3dCase:e.case.mi3dCase}})(Ea),Ca=(a(519),function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(M.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).orderCallbacks=function(e){var t=e.map(function(e,t){return{key:t,bluedogCaseRef:e.bluedogCaseRef,timeToCall:Ee()(e.timeToCall),callBackType:e.callBackType,createdOn:Ee()(e.createdOn),createdBy:e.createdBy,caseId:e.caseId}});return he.a.orderBy(t,[function(e){return e.timeToCall}],["asc"])},a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.props,t=e.callbacks,a=e.selectCase,n=this.orderCallbacks(t);return s.a.createElement(je,{list:n,selectRow:a,showInactive:this.showInactive,timeSensitiveValue:"timeToCall",cols:[{value:"bluedogCaseRef",title:"Case Reference",sortable:!0},{value:"callBackType",title:"Type",sortable:!0},{value:"timeToCall",title:"Time to Call",sortable:!0},{value:"createdBy",title:"Created By",sortable:!0},{value:"createdOn",title:"Created On",sortable:!1}]})}}]),t}(r.Component)),ga=(a(520),function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(M.a)(this,Object(S.a)(t).call(this,e))).getCase=function(e){return ut(e).then(function(e){a.checkForErrors(e,"modal")?a.setState({showErrorModal:!0}):a.props.updateMi3dCase(e.data.result)})},a.getInjuredPartyDetails=function(e){bt(e).then(function(e){a.checkForErrors(e,"modal")?a.setState({showErrorModal:!0}):(a.props.selectBluedogCase(e),a.props.selectSecondaryItem("Cases"),a.props.history.push("/cms/rehab/case/".concat(e.bluedogCaseRef)))})},a.selectCase=function(e){a.getCase(e.caseId),a.getInjuredPartyDetails(e.bluedogCaseRef)},a.state={callbacks:[],showErrorModal:!1},a.checkForErrors=Bt.bind(Object(Je.a)(a)),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){var e=this;jt().then(function(t){e.checkForErrors(t,"modal")?e.setState({showErrorModal:!0}):e.setState({callbacks:t.data.result})})}},{key:"render",value:function(){var e=this;return s.a.createElement(se,{fluid:!0},s.a.createElement(Ae,{title:"Outstanding Call Backs"}),s.a.createElement(ce,null,s.a.createElement(ie,{lg:12},s.a.createElement(Ca,{callbacks:this.state.callbacks,selectCase:this.selectCase}))),s.a.createElement(qe,{isModalOpen:this.state.showErrorModal,closeModal:function(){return e.setState({showErrorModal:!1})}}))}}]),t}(r.Component)),ka=Object(w.b)(null,function(e){return{selectBluedogCase:function(t){return e(P(t))},selectSecondaryItem:function(t){return e(B(t))},updateMi3dCase:function(t){return e(D(t))}}})(ga),Oa=(a(521),function(e){function t(){return Object(N.a)(this,t),Object(M.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.props,t=e.cases,a=e.selectCase;return s.a.createElement(je,{list:t,selectRow:a,showInactive:this.showInactive,idCol:"caseId",cols:[{value:"firstName",title:"First Name",sortable:!0},{value:"lastName",title:"Last Name",sortable:!0},{value:"bluedogCaseRef",title:"Rehab Reference",sortable:!0},{value:"instructingPartyName",title:"Instructing Party",sortable:!0},{value:"status",title:"Status",sortable:!1}]})}}]),t}(r.Component)),wa=(a(522),function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(M.a)(this,Object(S.a)(t).call(this,e))).getAllCases=function(){st().then(function(e){a.checkForErrors(e,"modal")||a.setState({cases:e.data.result})})},a.getCase=function(e){ut(e).then(function(e){a.checkForErrors(e,"modal")||a.props.updateMi3dCase(e.data.result)})},a.getInjuredPartyDetails=function(e){bt(e).then(function(e){a.checkForErrors(e,"modal")||(a.props.selectBluedogCase(e),a.props.selectSecondaryItem("Cases"),a.props.history.push("/cms/rehab/case/".concat(e.bluedogCaseRef)))})},a.selectCase=function(e){a.getCase(e.caseId),a.getInjuredPartyDetails(e.bluedogCaseRef)},a.state={cases:[],showErrorModal:!1},a.checkForErrors=Bt.bind(Object(Je.a)(a)),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){this.getAllCases()}},{key:"render",value:function(){var e=this,t=this.state.cases;return s.a.createElement(se,{fluid:!0},s.a.createElement(Ae,{title:"Current Cases"}),s.a.createElement(ce,null,s.a.createElement(ie,{lg:12,md:12},s.a.createElement(Oa,{cases:t,selectCase:this.selectCase}))),s.a.createElement(qe,{isModalOpen:this.state.showErrorModal,closeModal:function(){return e.setState({showErrorModal:!1})}}))}}]),t}(r.Component)),Na=[{title:"Dashboard",icon:"fa fa-bar-chart",path:"/cms/rehab/dashboard",component:ze},{title:"New Cases",icon:"fa fa-edit",path:"/cms/rehab/newcases",component:Dt},{title:"Cases",icon:"fa fa-file-o",path:"/cms/rehab/cases",component:Object(w.b)(null,function(e){return{selectBluedogCase:function(t){return e(P(t))},selectSecondaryItem:function(t){return e(B(t))},updateMi3dCase:function(t){return e(D(t))}}})(wa)},{title:"Call Backs",icon:"fa fa-clock-o",path:"/cms/rehab/callbacks",component:ka},{title:"Chases",icon:"fa fa-paper-plane",path:"/cms/rehab/chases",component:ze}],ja=(a(523),function(e){function t(){var e,a;Object(N.a)(this,t);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(a=Object(M.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(o)))).selectMenuItem=function(e){a.props.selectSecondaryItem(e)},a.renderItems=function(){var e;switch(a.props.selectedPrimaryItem){case"Home":e="homeMenuItems";break;case"Core":e="coreMenuItems";break;case"Rehab":e="rehabMenuItems"}return n[e].map(function(e,t){return s.a.createElement(Ye,{key:t,title:e.title,icon:e.icon,selected:a.props.selectedSecondaryItem,selectSecondaryItem:a.selectMenuItem,path:e.path})})},a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"secondary-menu"},this.renderItems())}}]),t}(r.Component)),Ma=Object(w.b)(function(e){return{selectedPrimaryItem:e.menus.selectedPrimaryItem,selectedSecondaryItem:e.menus.selectedSecondaryItem}},function(e){return{selectSecondaryItem:function(t){return e(B(t))}}})(ja),Sa=(a(524),function(e){return s.a.createElement("div",{className:"menu-heading"},s.a.createElement("h3",null,e.heading),s.a.createElement("hr",null))}),Ia=(a(525),function(e){return s.a.createElement("div",{className:"side-menu-footer"},s.a.createElement("h4",null,e.footer))}),_a=(a(526),function(e){function t(){return Object(N.a)(this,t),Object(M.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"side-menu"},s.a.createElement(Ue,null),s.a.createElement("div",{className:"side-menu__secondary"},s.a.createElement(Sa,{heading:"Case Management"}),s.a.createElement(Ma,null),s.a.createElement(Ia,{footer:"Premex ".concat((new Date).getFullYear()," \xa9")})))}}]),t}(r.Component)),Aa=(a(527),function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(M.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).showSideMenu=function(){document.documentElement.classList.toggle("pull-content-right"),document.documentElement.classList.toggle("side-menu-open")},a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"header"},s.a.createElement("div",{className:"header__title"},s.a.createElement("h2",null,this.props.title)),s.a.createElement("input",{type:"checkbox",className:"header__checkbox",id:"navbar-toggle"}),s.a.createElement("label",{htmlFor:"navbar-toggle",className:"header__button",onClick:this.showSideMenu},s.a.createElement("span",{className:"header__icon"},"\xa0")))}}]),t}(r.Component)),xa=(a(528),function(e){var t=a(529);return s.a.createElement("div",{className:"usermenu"},s.a.createElement("div",{className:"usermenu__button"},s.a.createElement("img",{alt:"avatar",src:t,className:"usermenu__avatar"}),s.a.createElement("p",{className:"usermenu__username"},e.username),s.a.createElement("i",{className:"fa fa-angle-down"})),s.a.createElement("div",{className:"usermenu__dropdown"},["Action 1","Action 2","Action 3"].map(function(e,t){return s.a.createElement("div",{className:"usermenu__link",key:t},s.a.createElement("p",null,e))}),s.a.createElement("hr",null),s.a.createElement("div",{className:"usermenu__link",onClick:function(){return e.logout()}},s.a.createElement("p",null,"Logout"))))}),Ta=(a(530),function(e){function t(){return Object(N.a)(this,t),Object(M.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=a(531);return s.a.createElement("div",{className:"userbar"},s.a.createElement("div",{className:"userbar__search"},s.a.createElement("img",{src:e,alt:"logo",className:"userbar__logo"})),s.a.createElement("div",null,s.a.createElement(xa,{username:"Michael Atherton",logout:this.props.logout})))}}]),t}(r.Component)),Ra=(a(532),function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(M.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).returnQuestion=function(e){var t={question:a.props.question,answer:e.target.value};a.props.returnQuestion(t),a.props.markComplete(""!==e.target.value)},a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"text-question"},s.a.createElement(ne,null,s.a.createElement(F,{className:"question-textarea",onBlur:this.returnQuestion})))}}]),t}(r.Component)),qa=a(137),Ba=(a(257),a(586),function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(M.a)(this,Object(S.a)(t).call(this,e))).handleSlide=function(e){a.setState({slideValue:e})},a.isComplete=function(){var e={question:a.props.question,answer:a.state.slideValue},t=0!==a.state.slideValue;a.props.isComplete(t),a.props.returnQuestion(e)},a.clearSlider=function(){a.setState({defaultValue:0,slideValue:0},function(){var e={question:a.props.question,answer:0,id:a.props.question.questionId};a.props.isComplete(!1),a.props.returnQuestion(e)})},a.state={slideValue:0,defaultValue:0},a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"scale"},s.a.createElement("p",{className:"scale__slide-value"},this.state.slideValue),s.a.createElement(qa.a,{min:0,max:10,value:0===this.state.slideValue?this.state.defaultValue:this.state.slideValue,onChange:this.handleSlide,onAfterChange:this.isComplete}),s.a.createElement("p",{className:"scale__clear",onClick:this.clearSlider},"Clear"))}}]),t}(r.Component)),Pa=(a(587),function(e){return s.a.createElement(H,{label:e.label,name:e.groupName,value:e.value,checked:e.checked,onChange:e.onChange})}),Qa=(a(588),function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(M.a)(this,Object(S.a)(t).call(this,e))).question=function(){return{question:a.props.question,answer:a.state.selectedAnswer}},a.handleChange=function(e){a.setState({selectedAnswer:e},function(){a.props.markComplete(""!==a.state.selectedAnswer),a.props.returnQuestion(a.question())})},a.clearAnswer=function(){a.setState({selectedAnswer:""},function(){a.props.markComplete(!1),a.props.returnQuestion(a.question())})},a.state={selectedAnswer:""},a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"multichoice"},this.props.question.answers.map(function(t,a){return s.a.createElement(Pa,{key:a,label:t,groupName:"btnGroup",value:t,onChange:function(){return e.handleChange(t)},checked:e.state.selectedAnswer===t})}),s.a.createElement("p",{className:"multichoice__clear",onClick:this.clearAnswer},"Clear"))}}]),t}(r.Component)),Da=(a(589),function(e){return s.a.createElement("div",{className:"question-text"},s.a.createElement("p",{className:e.questionAnswered},e.index),s.a.createElement("p",null,e.text))}),La=(a(590),a(591),function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(M.a)(this,Object(S.a)(t).call(this,e))).isChecked=function(){0!==a.state.selectedItems.length?a.props.isComplete(!0):a.props.isComplete(!1);var e={question:a.props.question,answer:a.state.selectedItems};a.props.returnQuestion(e)},a.handleChecked=function(e){if(a.state.selectedItems.includes(e)){var t=a.state.selectedItems.filter(function(t){return t!==e});a.setState({selectedItems:t},function(){return a.isChecked()})}else a.setState({selectedItems:a.state.selectedItems.concat(e)},function(){return a.isChecked()})},a.clearValues=function(e){a.setState({selectedItems:[]},function(){a.props.isComplete(!1),a.props.returnQuestion(a.question())}),a.props.isComplete(!1),a.props.clearQuestion(e)},a.question=function(){return{question:a.props.question,answer:a.state.selectedItems}},a.state={selectedItems:[]},a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"selection"},s.a.createElement("div",{className:"selection__options"},this.props.question.options.map(function(t,a){return s.a.createElement("div",{key:a,className:"selection__option"},s.a.createElement(G,{label:t,onChange:function(){return e.handleChecked(t)},checked:e.state.selectedItems.includes(t)}))})),s.a.createElement("div",{className:"selection__clear-options"},s.a.createElement("p",{onClick:function(){return e.clearValues(e.props.question)}},"Clear")))}}]),t}(r.Component)),Fa=(a(592),function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(M.a)(this,Object(S.a)(t).call(this,e))).question=function(){return{question:a.props.question,answer:a.state.selectedAnswer}},a.handleChecked=function(e){a.setState({selectedAnswer:e},function(){a.props.returnQuestion(a.question()),a.props.isComplete(""!==a.state.selectedAnswer)})},a.clearAnswer=function(){a.setState({selectedAnswer:""},function(){a.props.isComplete(!1),a.props.returnQuestion(a.question())})},a.renderFollowup=function(e){switch(e.action){case"showDropdown":return s.a.createElement("div",null,s.a.createElement("p",null,e.question),s.a.createElement(J,{selection:!0,options:e.options}));default:return null}},a.state={selectedAnswer:""},a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this,t=this.props.question;return s.a.createElement("div",{className:"yesno"},s.a.createElement("div",{className:"yesno__container"},s.a.createElement(H,{label:"Yes",groupName:"".concat(t.questionId),onChange:function(){return e.handleChecked("Yes")},checked:"Yes"===this.state.selectedAnswer}),s.a.createElement(H,{label:"No",groupName:"".concat(t.questionId),onChange:function(){return e.handleChecked("No")},checked:"No"===this.state.selectedAnswer})),s.a.createElement("div",{className:"yesno__clear"},s.a.createElement("p",{onClick:this.clearAnswer},"Clear")),s.a.createElement("div",{className:"yesno__followup"},t.followup&&this.state.selectedAnswer===t.followup.answerToTrigger?this.renderFollowup(t.followup):null))}}]),t}(r.Component)),Va=function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(M.a)(this,Object(S.a)(t).call(this,e))).isComplete=function(e){a.setState({complete:e})},a.validateQuestion=function(e){switch(e.question.type){case"text":case"multichoice":case"yesno":""===e.answer&&a.props.removeQuestionFromList(e.question.questionId);break;case"scale":0===e.answer&&a.props.removeQuestionFromList(e.question.questionId);break;case"selection":0===e.answer.length&&a.props.removeQuestionFromList(e.question.questionId)}},a.checkKnockout=function(e){switch(e.question.type){case"yesno":e.answer==e.question.knockout?e.question.instantKnockout?a.props.stopSurvey():a.props.returnKnockout(e):a.props.removeKnockoutFromList(e);break;case"selection":e.answer.length>=3?e.question.instantKnockout?a.props.stopSurvey():a.props.returnKnockout(e):a.props.removeKnockoutFromList(e),e.question.knockout.knockoutSelection.forEach(function(t){_t(t,e.answer)?e.question.instantKnockout?a.props.stopSurvey():a.props.returnKnockout(e):a.props.removeKnockoutFromList(e)})}},a.returnQuestion=function(e){a.setState({answer:e.answer}),a.validateQuestion(e),a.checkKnockout(e),a.props.returnCompletedQuestion(e)},a.clearQuestion=function(e){a.props.removeQuestionFromList(e.questionId)},a.renderQuestionType=function(e){switch(e.type){case"text":return s.a.createElement(Ra,{question:e,isComplete:a.isComplete,returnQuestion:a.returnQuestion,clearQuestion:a.clearQuestion});case"scale":return s.a.createElement(Ba,{question:e,isComplete:a.isComplete,returnQuestion:a.returnQuestion,clearQuestion:a.clearQuestion});case"multichoice":return s.a.createElement(Qa,{question:e,isComplete:a.isComplete,returnQuestion:a.returnQuestion,clearQuestion:a.clearQuestion});case"selection":return s.a.createElement(La,{question:e,isComplete:a.isComplete,returnQuestion:a.returnQuestion,clearQuestion:a.clearQuestion});case"yesno":return s.a.createElement(Fa,{question:e,isComplete:a.isComplete,returnQuestion:a.returnQuestion,clearQuestion:a.clearQuestion})}},a.state={complete:!1,answer:"",question:e.question},a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.props,t=e.question,a=e.index,n=this.state.complete?"question-text__number question-text__number--completed":"question-text__number";return s.a.createElement("div",{className:"question"},s.a.createElement(Da,{questionAnswered:n,index:a,text:t.text}),this.renderQuestionType(this.props.question))}}]),t}(r.Component),Ua=(a(593),function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(M.a)(this,Object(S.a)(t).call(this,e))).returnCompletedQuestion=function(e){if(void 0===a.state.completedQuestions.find(function(t){return t.question.questionId===e.question.questionId}))a.setState({completedQuestions:a.state.completedQuestions.concat(e)},function(){return a.props.returnQuestions(a.state.completedQuestions)});else{var t=a.state.completedQuestions.filter(function(t){return t.question.questionId!==e.question.questionId}).concat(e);a.setState({completedQuestions:t},function(){return a.props.returnQuestions(a.state.completedQuestions)})}},a.filterQuestionList=function(){var e=Object($e.a)(Ze.a.mark(function e(t){return Ze.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.state.completedQuestions.filter(function(e){return e.question.questionId!==t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.removeQuestionFromList=function(){var e=Object($e.a)(Ze.a.mark(function e(t){var n;return Ze.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.filterQuestionList(t);case 2:n=e.sent,a.setState({completedQuestions:n},function(){a.props.returnQuestions(a.state.completedQuestions)});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.stopSurvey=function(){a.setState({caseModalOpen:!0})},a.submitSurvey=function(){a.props.submitSurvey(a.state.completedQuestions)},a.state={completedQuestions:[],caseModalOpen:!1},a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"question-group"},this.props.questions.map(function(t,a){return s.a.createElement(Va,{key:a,question:t,type:t.type,index:++a,returnCompletedQuestion:e.returnCompletedQuestion,removeQuestionFromList:e.removeQuestionFromList,stopSurvey:e.stopSurvey,returnKnockout:e.props.returnKnockout,removeKnockoutFromList:e.props.removeKnockoutFromList})}),s.a.createElement(pa,{isModalOpen:this.state.caseModalOpen,buttonContent:"Close Case",title:"Close the case",closeModal:function(){return e.setState({caseModalOpen:!1})},reasonText:"Reason for closing the case:",modalHeight:"420",text:"KNOCK OUT ANSWER GIVEN"}))}}]),t}(r.Component)),Ya=[{questionId:1,type:"yesno",text:"Did you suffer any injury as a result of the accident?",followupUsed:!1,knockout:"No",instantKnockout:!0},{questionId:2,type:"yesno",text:"Do you have any symptoms now?",followupUsed:!1,knockout:"No",instantKnockout:!0},{questionId:3,type:"yesno",text:"Are you having any treatment, for example Physiotherapy?",followupUsed:!1,knockout:"Yes",instantKnockout:!0},{questionId:4,type:"selection",text:"What area's are affected?",options:["Head","Neck","Right Shoulder","Left Shoulder","Chest","Right Arm","Left Arm","Right Leg","Left Leg","Hip","Upper Back","Mid Back","Lower Back"],knockout:{count:3,knockoutSelection:[["Neck","Right Arm"],["Neck","Left Arm"],["Upper Back","Right Arm"],["Upper Back","Left Arm"],["Mid Back","Right Leg"],["Mid Back","Left Leg"],["Lower Back","Right Leg"],["Lower Back","Left Leg"],["Neck","Lower Back"]]}},{questionId:5,type:"scale",text:"If zero means 'no pain' and ten means 'pain as bad as it could be'. On a scale or 0-10, what is your level of pain? If more than one area is affected by pain, score the most painful."},{questionId:6,type:"yesno",text:"Has there been loss of movement in the affacted area(s)?",followupUsed:!1,knockout:"Yes"},{questionId:7,type:"yesno",text:"Does pain disturb sleep?",followupUsed:!1,knockout:"Yes"},{questionId:8,type:"yesno",text:"Have you developed any headaches following the accident?",followupUsed:!1,knockout:"Yes"},{questionId:9,type:"yesno",text:"Have you developed any tingling sensations as a result of the accident?",followupUsed:!1,knockout:"Yes"},{questionId:10,type:"yesno",text:"Have you returned to work/school?",followupUsed:!1,knockout:"Yes"},{questionId:11,type:"yesno",text:"Are you participating in your normal hobbies?",followupUsed:!1,knockout:"Yes"},{questionId:12,type:"yesno",text:"Are you taking pain killers?",followupUsed:!1,knockout:"Yes"}],Ka=(a(594),function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(M.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).returnQuestion=function(e){var t={question:a.props.question,answer:e.target.value,id:a.props.question.questionId};a.props.returnQuestion(t),a.props.markComplete(""!==e.target.value)},a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"text-question"},s.a.createElement(ne,null,s.a.createElement(F,{className:"question-textarea",onBlur:this.returnQuestion})))}}]),t}(r.Component)),Ha=(a(595),function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(M.a)(this,Object(S.a)(t).call(this,e))).handleSlide=function(e){a.setState({slideValue:e})},a.isComplete=function(){var e={question:a.props.question,answer:a.state.slideValue,id:a.props.question.questionId},t=0!==a.state.slideValue;a.props.markComplete(t),a.props.returnQuestion(e)},a.clearSlider=function(){a.setState({defaultValue:0,slideValue:0},function(){var e={question:a.props.question,answer:0,id:a.props.question.questionId};a.props.markComplete(!1),a.props.returnQuestion(e)})},a.state={slideValue:0,defaultValue:0},a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.answer;e.complete&&this.setState({defaultValue:t})}},{key:"render",value:function(){return s.a.createElement("div",{className:"scale"},s.a.createElement("p",{className:"scale__slide-value"},0===this.state.slideValue?this.state.defaultValue:this.state.slideValue),s.a.createElement(qa.a,{min:0,max:10,value:0===this.state.slideValue?this.state.defaultValue:this.state.slideValue,onChange:this.handleSlide,onAfterChange:this.isComplete}),s.a.createElement("p",{className:"scale__clear",onClick:this.clearSlider},"Clear"))}}]),t}(r.Component)),Wa=(a(596),function(e){return s.a.createElement(H,{label:e.label,name:e.groupName,value:e.value,checked:e.checked,onChange:e.onChange})}),Ga=(a(597),function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(M.a)(this,Object(S.a)(t).call(this,e))).question=function(){return{question:a.props.question,answer:a.state.selectedAnswer}},a.handleChange=function(e){a.setState({selectedAnswer:e},function(){a.props.markComplete(""!==a.state.selectedAnswer),a.props.returnQuestion(a.question())})},a.clearAnswer=function(){a.setState({selectedAnswer:""},function(){a.props.markComplete(!1),a.props.returnQuestion(a.question())})},a.state={selectedAnswer:""},a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"multichoice"},this.props.question.answers.map(function(t,a){return s.a.createElement(Wa,{key:a,label:t,groupName:"btnGroup",value:t,onChange:function(){return e.handleChange(t)},checked:e.state.selectedAnswer===t})}),s.a.createElement("p",{className:"multichoice__clear",onClick:this.clearAnswer},"Clear"))}}]),t}(r.Component)),za=(a(598),function(e){return s.a.createElement("div",{className:"question-text"},s.a.createElement("p",{className:e.questionAnswered},e.index),s.a.createElement("p",null,e.text))}),Ja=(a(599),a(600),function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(M.a)(this,Object(S.a)(t).call(this,e))).isChecked=function(){0!==a.state.selectedItems.length?a.props.markComplete(!0):a.props.markComplete(!1);var e={question:a.props.question,answer:a.state.selectedItems,id:a.props.question.questionId};a.props.returnQuestion(e)},a.handleChecked=function(e){if(a.state.selectedItems.includes(e)){var t=a.state.selectedItems.filter(function(t){return t!==e});a.setState({selectedItems:t},function(){return a.isChecked()})}else a.setState({selectedItems:a.state.selectedItems.concat(e)},function(){return a.isChecked()})},a.clearValues=function(e){a.setState({selectedItems:[]},function(){a.props.markComplete(!1),a.props.returnQuestion(a.question())}),a.props.markComplete(!1),a.props.clearQuestion(e)},a.question=function(){return{question:a.props.question,answer:a.state.selectedItems,id:a.props.question.questionId}},a.state={selectedItems:[],receivedProps:!1},a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.answer;this.state.receivedProps||(this.setState({selectedItems:t}),this.setState({receivedProps:!0}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"selection"},s.a.createElement("div",{className:"selection__options"},this.props.question.options.map(function(t,a){return s.a.createElement("div",{key:a,className:"selection__option"},s.a.createElement(G,{label:t,onChange:function(){return e.handleChecked(t)},checked:e.state.selectedItems.includes(t)}))})),s.a.createElement("div",{className:"selection__clear-options"},s.a.createElement("p",{onClick:function(){return e.clearValues(e.props.question)}},"Clear")))}}]),t}(r.Component)),Xa=(a(601),function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(M.a)(this,Object(S.a)(t).call(this,e))).question=function(){return{question:a.props.question,answer:a.state.selectedAnswer,id:a.props.question.questionId}},a.handleChecked=function(e){a.setState({selectedAnswer:e},function(){a.props.returnQuestion(a.question()),a.props.markComplete(""!==a.state.selectedAnswer)})},a.clearAnswer=function(){a.setState({selectedAnswer:""},function(){a.props.markComplete(!1),a.props.returnQuestion(a.question())})},a.renderFollowup=function(e){switch(e.action){case"showDropdown":return s.a.createElement("div",null,s.a.createElement("p",null,e.question),s.a.createElement(J,{selection:!0,options:e.options}));default:return null}},a.state={selectedAnswer:"",answer:"",receivedProps:!1},a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.answer;this.state.receivedProps||(void 0!==t&&this.setState({selectedAnswer:t}),this.setState({receivedProps:!0}))}},{key:"render",value:function(){var e=this,t=this.props.question;return s.a.createElement("div",{className:"yesno"},s.a.createElement("div",{className:"yesno__container"},s.a.createElement(H,{label:"Yes",groupName:"".concat(t.questionId),onChange:function(){return e.handleChecked("Yes")},checked:"Yes"===this.state.selectedAnswer}),s.a.createElement(H,{label:"No",groupName:"".concat(t.questionId),onChange:function(){return e.handleChecked("No")},checked:"No"===this.state.selectedAnswer})),s.a.createElement("div",{className:"yesno__clear"},s.a.createElement("p",{onClick:this.clearAnswer},"Clear")),s.a.createElement("div",{className:"yesno__followup"},t.followup&&this.state.selectedAnswer===t.followup.answerToTrigger?this.renderFollowup(t.followup):null))}}]),t}(r.Component)),Za=function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(M.a)(this,Object(S.a)(t).call(this,e))).markComplete=function(e){a.setState({complete:e})},a.validateQuestion=function(e){switch(e.question.type){case"text":case"multichoice":case"yesno":""===e.answer&&a.props.removeQuestionFromList(e.question.questionId);break;case"scale":0===e.answer&&a.props.removeQuestionFromList(e.question.questionId);break;case"selection":0===e.answer.length&&a.props.removeQuestionFromList(e.question.questionId)}},a.checkKnockout=function(e){switch(e.question.type){case"yesno":e.answer==e.question.knockout?e.question.instantKnockout?a.props.stopSurvey():a.props.returnKnockout(e):a.props.removeKnockoutFromList(e);break;case"selection":e.answer.length>=3?e.question.instantKnockout?a.props.stopSurvey():a.props.returnKnockout(e):a.props.removeKnockoutFromList(e),e.question.knockout.knockoutSelection.forEach(function(t){_t(t,e.answer)&&(e.question.instantKnockout?a.props.stopSurvey():a.props.returnKnockout(e))})}},a.returnQuestion=function(e){a.setState({answer:e.answer}),a.validateQuestion(e),a.checkKnockout(e),a.props.returnCompletedQuestion(e)},a.clearQuestion=function(e){a.props.removeQuestionFromList(e.questionId)},a.renderQuestionType=function(e){switch(e.type){case"text":return s.a.createElement(Ka,{question:e,returnQuestion:a.returnQuestion,clearQuestion:a.clearQuestion,answer:a.props.answer,complete:a.state.complete,markComplete:a.markComplete});case"scale":return s.a.createElement(Ha,{question:e,returnQuestion:a.returnQuestion,clearQuestion:a.clearQuestion,answer:a.props.answer,complete:a.state.complete,markComplete:a.markComplete});case"multichoice":return s.a.createElement(Ga,{question:e,isComplete:a.markComplete,returnQuestion:a.returnQuestion,clearQuestion:a.clearQuestion,answer:a.props.answer});case"selection":return s.a.createElement(Ja,{question:e,returnQuestion:a.returnQuestion,clearQuestion:a.clearQuestion,answer:a.props.answer,complete:a.state.complete,markComplete:a.markComplete});case"yesno":return s.a.createElement(Xa,{question:e,returnQuestion:a.returnQuestion,clearQuestion:a.clearQuestion,answer:a.props.answer,complete:a.state.complete,markComplete:a.markComplete})}},a.renderCompleted=function(){switch(a.props.question.type){case"yesno":""===a.state.answer||void 0===a.state.answer?a.setState({complete:!1}):a.setState({complete:!0});break;case"scale":0===a.state.answer||void 0===a.state.answer?a.setState({complete:!1}):a.setState({complete:!0});break;case"selection":a.state.answer.length<1||void 0===a.state.answer?a.setState({complete:!1}):a.setState({complete:!0})}},a.state={complete:!1,answer:"",question:e.question,receivedProps:!1},a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this,a=e.answer;this.setState({answer:a},function(){t.state.receivedProps||(t.renderCompleted(),t.setState({receivedProps:!0}))})}},{key:"render",value:function(){var e=this.props,t=e.question,a=e.index,n=this.state.complete?"question-text__number question-text__number--completed":"question-text__number";return s.a.createElement("div",{className:"question"},s.a.createElement(za,{questionAnswered:n,index:a,text:t.text}),this.renderQuestionType(this.props.question))}}]),t}(r.Component),$a=(a(602),function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(M.a)(this,Object(S.a)(t).call(this,e))).returnCompletedQuestion=function(e){var t=a.state.completedQuestions.filter(function(t){return t.question.questionId!==e.question.questionId}).concat(e);a.setState({completedQuestions:he.a.orderBy(t,["id"])},function(){return a.props.returnQuestions(a.state.completedQuestions)})},a.filterQuestionList=function(){var e=Object($e.a)(Ze.a.mark(function e(t){return Ze.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.state.completedQuestions.filter(function(e){return e.question.questionId!==t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.removeQuestionFromList=function(){var e=Object($e.a)(Ze.a.mark(function e(t){var n;return Ze.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.filterQuestionList(t);case 2:n=e.sent,a.setState({completedQuestions:n},function(){a.props.returnQuestions(a.state.completedQuestions)});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.stopSurvey=function(){a.setState({caseModalOpen:!0})},a.submitSurvey=function(){a.props.submitSurvey(a.state.completedQuestions)},a.returnAnswer=function(e){if(void 0!==a.props.completedQuestions){var t=a.props.completedQuestions[--e];if(void 0!==t)return t.answer}},a.state={completedQuestions:[],caseModalOpen:!1,updatedQuestions:[],receivedProps:!1},a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.completedQuestions;this.state.receivedProps||this.setState({completedQuestions:t,receivedProps:!0})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"question-group"},this.props.questions.map(function(t,a){return s.a.createElement(Za,{key:a,question:t,type:t.type,index:++a,returnCompletedQuestion:e.returnCompletedQuestion,removeQuestionFromList:e.removeQuestionFromList,stopSurvey:e.stopSurvey,answer:e.returnAnswer(a),returnKnockout:e.props.returnKnockout,removeKnockoutFromList:e.props.removeKnockoutFromList})}),s.a.createElement(pa,{isModalOpen:this.state.caseModalOpen,buttonContent:"Close Case",title:"Close the case",closeModal:function(){return e.setState({caseModalOpen:!1})},reasonText:"Reason for closing the case:",modalHeight:"430",text:"KNOCK OUT ANSWER GIVEN"}))}}]),t}(r.Component)),en=(a(603),function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(M.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).renderAnswer=function(e){return"selection"===e.question.type?e.answer.map(function(t,a){return s.a.createElement("span",{key:a,className:"knockout-modal__selection"},++a===e.answer.length?t:"".concat(t,","))}):s.a.createElement("span",null,e.answer)},a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this,t=200+68*this.props.knockouts.length,a={content:{height:"".concat(t,"px")}};return s.a.createElement(Ie.a,{ariaHideApp:!1,isOpen:this.props.isModalOpen,contentLabel:"Knockout Modal",className:"knockout-modal",style:a},s.a.createElement("div",{className:"knockout-modal__title"},s.a.createElement("h3",null,"Case not eligible for Mi3D")),s.a.createElement("hr",null),s.a.createElement("div",{className:"knockout-modal__body"},s.a.createElement(de,{marginBottom:"25"},s.a.createElement("p",{className:"knockout-modal__text"},"Knockout questions and answers")),this.props.knockouts.map(function(t,a){return s.a.createElement("div",{key:a,className:"knockout-modal__knockout"},s.a.createElement("p",{className:"knockout-modal__question"},t.question.text),s.a.createElement("p",null,e.renderAnswer(t)))})),s.a.createElement("hr",null),s.a.createElement("div",{className:"knockout-modal__footer"},s.a.createElement(te,{justifyContent:"flex-end",marginTop:"15"},s.a.createElement(ee,{content:"Cancel",secondary:!0,onClick:this.props.closeModal}),s.a.createElement(ee,{content:"Hold Case",primary:!0,onClick:this.props.holdCase}))))}}]),t}(r.Component)),tn=(a(604),function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(M.a)(this,Object(S.a)(t).call(this,e))).submitSurvey=function(){if(console.log("knockouts",a.state.knockouts),a.state.knockouts.length>0)a.setState({knockoutModalOpen:!0});else{var e=a.state.completedQuestions.map(function(e){return{yesNoAnswer:"yesno"===e.question.type?e.answer:"",scaleAnswer:"scale"===e.question.type?e.answer:0,selectionAnswers:"selection"===e.question.type?e.answer:null,questionText:e.question.text,type:e.question.type,questionId:e.question.questionId}}),t=a.props.mi3dCase.completedSurveys.find(function(e){return"Initial"===e.type}),n={type:"Initial",caseId:a.props.mi3dCase.caseId,completedQuestions:e,completedSurveyId:void 0!==t?t.completedSurveyId:0,actionedBy:a.props.user.name,completedBy:a.props.user.name};St(n).then(function(e){a.props.updateMi3dCase(e.result),a.props.selectSecondaryItem("Cases"),a.props.history.push("/cms/rehab/case/".concat(e.result.bluedogCaseRef))})}},a.returnQuestions=function(e){a.setState({completedQuestions:e}),a.props.returnQuestions(e)},a.returnAnswer=function(e){switch(e.type){case"yesno":return e.yesNoAnswer;case"selection":return e.selectionAnswers;case"scale":return e.scaleAnswer;default:return null}},a.parsedQuestions=function(){if(void 0!==a.state.survey.completedQuestions)return a.state.survey.completedQuestions.map(function(e){return{question:{questionId:e.questionId,type:e.type,text:e.questionText},answer:a.returnAnswer(e),id:e.questionId}})},a.returnKnockout=function(e){a.setState({knockouts:a.state.knockouts.concat(e)})},a.removeKnockoutFromList=function(e){var t=a.state.knockouts.filter(function(t){return t.question.questionId!==e.question.questionId});a.setState({knockouts:t})},a.state={completedQuestions:[],survey:{},parsedQuestions:null,update:!1,knockouts:[],knockoutModalOpen:!1},a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.mi3dCase.completedSurveys.find(function(e){return"Initial"===e.type});if(void 0!==t){this.setState({update:!0});var a=t.completedSurveyId;It(a).then(function(t){e.setState({survey:t.result})})}else this.setState({update:!1})}},{key:"render",value:function(){var e=this;return s.a.createElement(U,{title:"General Questions",collapse:!0,isOpenByDefault:!0,disabled:!this.props.mi3dCase.dpaAccepted},this.state.update?s.a.createElement($a,{questions:Ya,returnQuestions:this.returnQuestions,completedQuestions:this.parsedQuestions(),returnKnockout:this.returnKnockout,removeKnockoutFromList:this.removeKnockoutFromList}):s.a.createElement("div",null,s.a.createElement(Ua,{questions:Ya,returnQuestions:this.returnQuestions,returnKnockout:this.returnKnockout,removeKnockoutFromList:this.removeKnockoutFromList})),s.a.createElement(te,{marginTop:"25",marginBottom:"5",justifyContent:"flex-end"},s.a.createElement(ee,{content:"Submit Survey",primary:!0,onClick:this.submitSurvey})),s.a.createElement(en,{isModalOpen:this.state.knockoutModalOpen,closeModal:function(){return e.setState({knockoutModalOpen:!1})},knockouts:this.state.knockouts}))}}]),t}(r.Component)),an=Object(w.b)(function(e){return{mi3dCase:e.case.mi3dCase,user:e.auth.user}},function(e){return{selectSecondaryItem:function(t){return e(B(t))},updateMi3dCase:function(t){return e(D(t))}}})(tn),nn=(a(605),function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(M.a)(this,Object(S.a)(t).call(this,e))).agreeToDpa=function(){var e={dpaAccepted:!0,caseId:a.props.mi3dCase.caseId,actionedBy:a.props.username};dt(e).then(function(e){e.data.hasErrors||a.props.updateMi3dCase(e.data.result)})},a.disagreeToDpa=function(){a.setState({caseModalOpen:!0});var e={acceptedDpa:!1,caseId:a.props.mi3dCase.caseId,actionedBy:a.props.username};dt(e).then(function(e){e.data.hasErrors||a.props.updateMi3dCase(e.data.result)})},a.state={caseModalOpen:!1},a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.username,n=t.instructingPartyName;return s.a.createElement(U,{title:"DPA Disclosure Statement"},s.a.createElement("p",null,"Hello, my name is ",s.a.createElement("strong",null,a)," and i'm calling from"," ",s.a.createElement("strong",null,"3d Rehabilitation"),", we have been asked to contact you by ",s.a.createElement("strong",null,n)," following your recent accident to assess the potential need for physiotherapy.",s.a.createElement("br",null),s.a.createElement("br",null),"We will be required to process your personal information for the purpose of processing your claim. If you would like to find out about how we process your personal information then please visit our website"," ",s.a.createElement("strong",null,"www.3drehab.co.uk/privacy-policy")," where you will be able to access a copy of our privacy notice.",s.a.createElement("br",null),s.a.createElement("br",null),"Just to make you aware we monitor calls for training and quality purposes only. Are you still happy to proceed?"),s.a.createElement(te,{marginTop:"25",justifyContent:"flex-end"},s.a.createElement(ee,{content:"Declined",secondary:!0,onClick:this.disagreeToDpa}),s.a.createElement(ee,{content:"Accepted",primary:!0,onClick:this.agreeToDpa})),s.a.createElement(pa,{isModalOpen:this.state.caseModalOpen,buttonContent:"Hold Case",title:"Put the case on hold",closeModal:function(){return e.setState({caseModalOpen:!1})},reasonText:"Reason for putting the case on hold:",modalHeight:"430",text:"Unfortunately if we are unable to disclose information to others invloved in the processing of your claim we cannot continue with the questionnaire. Thank you for your time."}))}}]),t}(r.Component)),rn=Object(w.b)(function(e){return{mi3dCase:e.case.mi3dCase,username:e.auth.user.name,instructingPartyName:e.case.selectedCase.instructingPartyName}},function(e){return{updateMi3dCase:function(t){return e(D(t))}}})(nn),sn=(a(606),function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(M.a)(this,Object(S.a)(t).call(this,e))).returnAnswer=function(e){switch(e.type){case"yesno":return e.yesNoAnswer;case"selection":return e.selectionAnswers;case"scale":return e.scaleAnswer;default:return null}},a.parsedQuestions=function(){if(void 0!==a.state.survey.completedQuestions){var e=a.state.survey.completedQuestions.map(function(e){return{question:{questionId:e.questionId,type:e.type,text:e.questionText},answer:a.returnAnswer(e),id:e.questionId}});a.setState({completedQuestions:e})}},a.renderAnswer=function(e){return"selection"===e.question.type?e.answer.map(function(t,a){return s.a.createElement("span",{key:a,className:"completed-question__answer-selection"},++a===e.answer.length?t:"".concat(t,","))}):s.a.createElement("span",{className:"completed-question__answer"},e.answer)},a.state={completedQuestions:null!==e.completedQuestions?e.completedQuestions:[]},a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.completedQuestions;this.setState({completedQuestions:he.a.orderBy(t,["id"])})}},{key:"componentDidMount",value:function(){var e=this,t=this.props.mi3dCase.completedSurveys.find(function(e){return"Initial"===e.type});if(void 0!==t){var a=t.completedSurveyId;It(a).then(function(t){e.setState({survey:t.result}),void 0!==t.result&&e.parsedQuestions()})}}},{key:"render",value:function(){var e=this,t=this.props.bdCase,n=t.firstName,r=t.lastName,o=t.houseNo,c=t.address1,l=t.address2,i=t.address3,u=t.address4,d=t.postCode,m=t.instructingPartyName,p=a(607);return s.a.createElement(U,{title:"Triage Document"},s.a.createElement("div",{className:"survey-builder"},s.a.createElement("div",{className:"survey-builder__header"},s.a.createElement("div",{className:"survey-builder__contact-info"},s.a.createElement("p",null,"".concat(n," ").concat(r)),s.a.createElement("p",null,"".concat(o," ").concat(c)),s.a.createElement("p",null,l),s.a.createElement("p",null,i),""!==u&&s.a.createElement("p",null,u),s.a.createElement("p",null,d),s.a.createElement("br",null),s.a.createElement("p",null,"On behalf of ",m),s.a.createElement("h3",null,"Initial Triage")),s.a.createElement("img",{src:p,alt:"logo",className:"survey-builder__logo"})),this.state.completedQuestions.length>0?this.state.completedQuestions.map(function(t,a){return s.a.createElement("div",{className:"completed-question",key:a},s.a.createElement("p",{className:"completed-question__text"},t.question.text),s.a.createElement("p",{className:"completed-question__answer-container"},e.renderAnswer(t)))}):s.a.createElement("p",{className:"light"},"Answer a question to begin...")))}}]),t}(r.Component)),on=(a(608),function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(M.a)(this,Object(S.a)(t).call(this,e))).renderSurvey=function(){if(a.props.history.location.pathname.includes("initial"))return s.a.createElement(an,{history:a.props.history,returnQuestions:a.returnQuestions})},a.renderName=function(){a.props.history.location.pathname.includes("initial")&&a.setState({surveyName:"Initial Survey"})},a.renderAnswer=function(e){switch(e.type){case"yesno":return e.yesNoAnswer;case"selection":return e.selectionAnswers;case"scale":return e.scaleAnswer;default:return null}},a.openHoldModal=function(){a.setState({caseModalOpen:!0,caseModalButtonContent:"Hold Case",caseModalTitle:"Put the case on hold",caseModalReasonText:"Reason for putting the case on hold:"})},a.openCloseModal=function(){a.setState({caseModalOpen:!0,caseModalButtonContent:"Close Case",caseModalTitle:"Close the case",caseModalReasonText:"Reason for closing the case:"})},a.returnQuestions=function(e){a.setState({completedQuestions:e})},a.state={surveyName:"",caseModalOpen:!1,caseModalButtonContent:"",caseModalTitle:"",caseModalReasonText:"",completedQuestions:[],completedInitialSurvey:null},a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){this.renderName()}},{key:"render",value:function(){var e=this;return s.a.createElement(se,{fluid:!0},s.a.createElement(Ae,{title:"".concat(this.state.surveyName," - Case Ref: ").concat(this.props.mi3dCase.bluedogCaseRef)},s.a.createElement(xe,{actionName:"Hold Case",triggerAction:this.openHoldModal}),s.a.createElement(xe,{actionName:"Close Case",triggerAction:this.openCloseModal})),s.a.createElement(ce,null,s.a.createElement(ie,{lg:6,sm:12},s.a.createElement(ce,null,s.a.createElement(ie,{sm:12},s.a.createElement(rn,null))),s.a.createElement(ce,null,s.a.createElement(ie,{sm:12},this.renderSurvey()))),s.a.createElement(ie,{lg:6,sm:12},s.a.createElement(ce,null,s.a.createElement(ie,{sm:12},s.a.createElement(ha,{mi3dCase:this.props.mi3dCase,case:this.props.case}))),s.a.createElement(ce,null,s.a.createElement(ie,{sm:12},s.a.createElement(Ut,null))),s.a.createElement(ce,null,s.a.createElement(ie,{sm:12},s.a.createElement(sn,{completedQuestions:this.state.completedQuestions,mi3dCase:this.props.mi3dCase,bdCase:this.props.case}))))),s.a.createElement(pa,{isModalOpen:this.state.caseModalOpen,buttonContent:this.state.caseModalButtonContent,title:this.state.caseModalTitle,closeModal:function(){return e.setState({caseModalOpen:!1})},reasonText:this.state.caseModalReasonText}))}}]),t}(r.Component)),cn=Object(w.b)(function(e){return{case:e.case.selectedCase,mi3dCase:e.case.mi3dCase}})(on),ln=(a(609),function(e){function t(){var e,a;Object(N.a)(this,t);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(a=Object(M.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(o)))).state={showErrorModal:a.props.showErrorModal},a.renderRoutes=function(){var e=[];return Object.keys(n).map(function(t){return n[t].forEach(function(t,a){var n=s.a.createElement(R.a,{key:a,path:t.path,component:t.component,exact:!0});e.push(n)}),e}),e},a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){"/cms"===this.props.history.location.pathname&&(this.props.history.push("/cms/rehab/dashboard"),this.props.selectPrimaryItem("Rehab"),this.props.selectSecondaryItem("Dashboard"))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"cms"},s.a.createElement(Aa,{title:"Case Management"}),s.a.createElement(_a,null),s.a.createElement("div",{className:"cms__container"},s.a.createElement(Ta,{logout:this.props.logout}),s.a.createElement("div",{className:"cms__content"},s.a.createElement(T.a,null,s.a.createElement(R.a,{path:"/cms/rehab/case/:id",component:ya}),s.a.createElement(R.a,{path:"/cms/rehab/survey/initial/:id",component:cn}),s.a.createElement(R.a,{path:"/cms/rehab/survey/clinician/:id",component:cn}),s.a.createElement(R.a,{path:"/cms/rehab/survey/soap/:id",component:cn}),s.a.createElement(R.a,{path:"/cms/rehab/survey/customersatisfaction/:id",component:cn}),this.renderRoutes()))),s.a.createElement(qe,{isModalOpen:this.props.showErrorModal,closeModal:function(){return e.props.hideErrorModal()}}))}}]),t}(r.Component)),un=Object(w.b)(function(e){return{selectedPrimaryItem:e.menus.selectedPrimaryItem,showErrorModal:e.shared.showErrorModal}},function(e){return{selectPrimaryItem:function(t){return e(q(t))},selectSecondaryItem:function(t){return e(B(t))},hideErrorModal:function(){return e({type:"HIDE_ERROR_MODAL"})},logout:function(){return e({type:"LOGOUT_USER"})}}})(ln),dn=a(136),mn=a(630),pn=Object(w.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}})(function(e){var t=e.isAuthenticated,a=e.component,n=Object(dn.a)(e,["isAuthenticated","component"]);return s.a.createElement(R.a,Object.assign({},n,{component:function(e){return t?s.a.createElement(mn.a,{to:"/cms"}):s.a.createElement(a,e)}}))}),hn=Object(w.b)(function(e){return{isAuthenticated:e.auth.user.isAuthenticated}})(function(e){var t=e.isAuthenticated,a=e.component,n=Object(dn.a)(e,["isAuthenticated","component"]);return s.a.createElement(R.a,Object.assign({},n,{component:function(e){return t?s.a.createElement(a,e):s.a.createElement(mn.a,{to:"/"})}}))}),fn=function(e){function t(){return Object(N.a)(this,t),Object(M.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return s.a.createElement(T.a,null,s.a.createElement(pn,{path:"/",component:Pe,exact:!0}),s.a.createElement(hn,{path:"/cms",component:un}),s.a.createElement(R.a,{component:Qe}))}}]),t}(r.Component),vn=x()(),bn=function(e){function t(){return Object(N.a)(this,t),Object(M.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return s.a.createElement(_.a,{history:vn},s.a.createElement(fn,null))}}]),t}(s.a.Component),En=Object(w.b)(function(e){return{}},function(e){return{}})(bn),yn=(a(610),k()),Cn=s.a.createElement(function(e){var t=e.children,a=k();return s.a.createElement(w.a,{store:a.store},t)},null,s.a.createElement(O.a,{persistor:yn.persistor},s.a.createElement(En,null)));c.a.render(Cn,document.getElementById("root"))}},[[298,1,2]]]);
//# sourceMappingURL=main.8d45ed66.chunk.js.map